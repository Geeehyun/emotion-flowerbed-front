/*
===============================================
  감정 화단 (Garden) 스타일시트
===============================================
*/

/* ============================================
   1. 폰트 및 기본 스타일
============================================ */
@font-face {
  font-family: 'Cafe24Ssurround';
  src: url('../fonts/Cafe24Ssurround-v2.0.woff2') format('woff2'),
       url('../fonts/Cafe24Ssurround-v2.0.woff') format('woff');
  font-weight: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LeeSeoyun';
  src: url('../fonts/LeeSeoyun.woff') format('woff');
  font-weight: normal;
  font-display: swap;
}

/* CSS 변수로 폰트 스택 정의 */
:root {
  --font-title: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  --font-body: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ============================================
   2. 배경 및 레이아웃
============================================ */

/* 움직이는 물방울 배경 */
.polka-dot-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  background-color: #F4E4C1;
  overflow: hidden;
}

.dots-layer {
  position: absolute;
  top: -50px;
  left: -50px;
  width: calc(100% + 100px);
  height: calc(100% + 100px);
  background-size: 50px 50px;
}

/* 레이어 1 - 노란 베이지 */
.dots-layer-1 {
  background-image:
    radial-gradient(circle at center, rgba(232, 205, 142, 0.4) 6px, transparent 6px);
  background-position: 0 0, 25px 25px;
  animation: moveDots1 20s linear infinite;
}

/* 레이어 2 - 연한 핑크 */
.dots-layer-2 {
  background-image:
    radial-gradient(circle at center, rgba(255, 182, 193, 0.3) 5px, transparent 5px);
  background-size: 60px 60px;
  background-position: 15px 30px;
  animation: moveDots2 15s linear infinite;
}

/* 레이어 3 - 연한 퍼플 */
.dots-layer-3 {
  background-image:
    radial-gradient(circle at center, rgba(184, 168, 216, 0.25) 7px, transparent 7px);
  background-size: 70px 70px;
  background-position: 35px 15px;
  animation: moveDots3 25s linear infinite;
}

/* 레이어 4 - 연한 오렌지 */
.dots-layer-4 {
  background-image:
    radial-gradient(circle at center, rgba(255, 218, 185, 0.35) 4px, transparent 4px);
  background-size: 45px 45px;
  background-position: 20px 10px;
  animation: moveDots4 18s linear infinite;
}

.main-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  z-index: 100;
  max-width: 480px;
  margin: 0 auto;
  width: 100%;
}

/* ============================================
   3. 상단 헤더 (타이틀, 물뿌리개 버튼)
============================================ */

/* 상단 타이틀 */
.header-section {
  position: sticky;
  top: 0;
  left: 0;
  width: 100%;
  padding: 15px 20px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  z-index: 10;
  background: transparent;
  /* 스크롤 시 상단 고정 */
}

.page-title {
  position: absolute;
  left: 50%;
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 48px;
  font-weight: 900;
  color: white;
  text-shadow:
    1px 1px 0px #E8CD8E,
    2px 2px 0px #E8CD8E,
    3px 3px 0px #D4B87A,
    4px 4px 0px #D4B87A,
    5px 5px 0px #C0A466,
    6px 6px 0px #C0A466,
    7px 7px 0px #AC9052,
    8px 8px 6px rgba(0, 0, 0, 0.2),
    10px 10px 12px rgba(0, 0, 0, 0.15);
  letter-spacing: 3px;
  animation: titleBounce 2s ease-in-out infinite;
  white-space: nowrap; /* 줄넘김 방지 */
  -webkit-font-smoothing: antialiased; /* 사파리 폰트 렌더링 최적화 */
  -moz-osx-font-smoothing: grayscale;
  will-change: transform; /* 애니메이션 최적화 */
  /* 중앙 정렬 - 애니메이션에서 처리 */
}

/* 햄버거 메뉴 버튼 */
.hamburger-btn {
  width: 50px;
  height: 50px;
  background: rgba(255, 218, 185, 0.3);
  border: 3px solid rgba(255, 218, 185, 0.6);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  padding: 10px;  
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  color: #8B4513;
  z-index: 30;
}

.hamburger-btn:hover {
  background: rgba(255, 218, 185, 0.5);
  border-color: rgba(255, 200, 160, 0.8);
  transform: scale(1.1);
  box-shadow: 0 6px 15px rgba(255, 218, 185, 0.4);
}

/* 물뿌리개 버튼 (제거됨) */
.watering-can-btn {
  position: absolute;
  right: 20px;
  top: 50%;
  transform: translateY(-50%);
  width: 60px;
  height: 60px;
  background: rgba(135, 206, 250, 0.3);
  border: 3px solid rgba(135, 206, 250, 0.6);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  padding: 10px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.watering-can-icon {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: all 0.3s ease;
}

.watering-can-btn:hover {
  background: rgba(135, 206, 250, 0.5);
  border-color: rgba(100, 180, 240, 0.8);
  transform: translateY(-50%) scale(1.1) rotate(-15deg);
  box-shadow: 0 6px 15px rgba(135, 206, 250, 0.4);
}

.watering-can-btn.watering {
  animation: wateringShake 0.5s ease-in-out infinite;
}

/* 물방울 컨테이너 */
.water-drops-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 999;
  overflow: hidden;
}

.water-drop {
  position: absolute;
  top: -20px;
  font-size: 24px;
  animation: dropFall linear forwards;
  opacity: 0;
}

/* ============================================
   4. 화단 (Garden) 영역
============================================ */

.flower {
  transition: transform 0.3s ease;
  cursor: pointer;
}

.tooltip {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(10px);
  margin-bottom: 30px; /* 꽃을 안 가리도록 더 위로 */
  opacity: 0;
  pointer-events: none;
  z-index: 10000; /* 헤더보다 위에 표시 */
  transition: all 0.3s ease;
}

.flower:hover .tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.tooltip-card {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border: 3px solid #E8CD8E;
  border-radius: 16px;
  padding: 10px 14px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  text-align: center;
  white-space: nowrap;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  min-width: 140px;
  position: relative;
}

.tooltip-card::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid #E8CD8E;
}

.tooltip-flower-name {
  font-size: 18px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 6px;
}

.tooltip-meaning {
  font-size: 13px;
  color: #8B7355;
  margin-bottom: 6px;
  line-height: 1.4;
}

.tooltip-date {
  font-size: 13px;
  color: #A68B6A;
  margin-bottom: 3px;
}

.tooltip-emotion {
  font-size: 12px;
  color: #5D4E37;
  background: rgba(232, 205, 142, 0.3);
  padding: 2px 10px;
  border-radius: 10px;
  display: inline-block;
  margin-top: 4px;
}

.garden-section {
  flex: 1;
  padding: 10px 5px;
  display: flex;
  flex-direction: column; /* 요일 헤더와 화단을 세로로 정렬 */
  align-items: center;
  justify-content: center;
  margin-bottom: 10vh; /* 하단 스테이터스에 겹치지 않도록 */
}

.garden-wrapper {
  position: relative;
  width: 100%;
  max-width: 100%;
}

.garden-bg-image {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 12px;
}

/* 요일 헤더 컨테이너 (화단과 분리, 화단 그리드와 정확히 정렬) */
.weekday-header-container {
  width: 95%; /* garden-wrapper 보다 조금 작은 너비 */
  max-width: 480px; /* main-container와 동일한 최대 너비 */
  margin-bottom: 8px;
  padding: 8px 8% 8px 8%; /* 좌우 8% 패딩으로 화단 그리드 영역과 일치 */
  display: grid;
  grid-template-columns: repeat(7, 1fr); /* 화단과 동일한 7열 그리드 */
  gap: 2%; /* 화단과 동일한 간격 */
  background: linear-gradient(135deg, rgba(255, 249, 232, 0.95) 0%, rgba(255, 243, 205, 0.95) 100%);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(139, 111, 71, 0.15);
  box-sizing: border-box;
}

/* 요일 헤더 */
.weekday-header {
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  font-weight: 700;
  color: #8B6F47;
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
}

/* 일요일 빨간색 */
.weekday-header:first-child {
  color: #D64545;
}

/* 토요일 파란색 */
.weekday-header:last-child {
  color: #4A90E2;
}

/* 격자 그리드 - 고정 레이어 구조 */
.flower-grid {
  position: absolute;
  top: 9%;
  left: 8%;
  width: 84%;
  height: 68%;
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: 2%;
  padding: 2% 4%;
  z-index: 10;
}

.grid-cell {
  position: relative;
  overflow: visible;
  /* Grid가 자동으로 크기 계산 - 모든 셀이 동일한 크기 */
}

/* 행별 z-index - 아래 행이 위로 */
.grid-cell:nth-child(n+1):nth-child(-n+7) { z-index: 1; } /* 1행 */
.grid-cell:nth-child(n+8):nth-child(-n+14) { z-index: 2; } /* 2행 */
.grid-cell:nth-child(n+15):nth-child(-n+21) { z-index: 3; } /* 3행 */
.grid-cell:nth-child(n+22):nth-child(-n+28) { z-index: 4; } /* 4행 */
.grid-cell:nth-child(n+29):nth-child(-n+35) { z-index: 5; } /* 5행 */

/* 꽃 컨테이너 - absolute로 셀 기준 배치 */
.flower {
  position: absolute;
  bottom: 0; /* 셀 하단 기준 */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: flex-end; /* 꽃 이미지들을 하단 기준으로 정렬 */
  justify-content: center;
  cursor: pointer;
  transition: transform 0.3s ease;
  width: 50px; /* 기본 영역 */
  height: 50px; /* 기본 영역 */
}

.flower-image {
  width: auto;
  height: auto;
  max-width: 50px; /* 꽃 이미지 최대 크기 */
  max-height: 100px;
  object-fit: contain;
  filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));
}

/* 알 수 없는 감정 꽃 (검정색 실루엣) */
.flower-image.unknown-flower {
  filter: brightness(0) drop-shadow(0 3px 6px rgba(0,0,0,0.3));
  opacity: 0.6;
}

/* 꽃 호버 시 앞으로 나오기 */
.flower:hover {
  transform: translateX(-50%) scale(1.15);
  z-index: 100;
}

/* 빈 칸 */
.empty-slot {
  position: absolute;
  bottom: 0; /* 셀 하단 기준 */
  left: 50%;
  transform: translateX(-50%);
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: linear-gradient(145deg, rgba(139, 111, 71, 0.25), rgba(107, 84, 57, 0.25));
  border: 2px dashed rgba(139, 111, 71, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  color: rgba(232, 205, 142, 0.9); /* 밝은 베이지색 */
  font-weight: bold;
  box-shadow:
    inset 0 2px 4px rgba(0,0,0,0.15),
    0 2px 4px rgba(0,0,0,0.1);
  cursor: pointer;
  transition: all 0.3s ease;
}

.empty-slot:hover {
  background: linear-gradient(145deg, rgba(80, 60, 40, 0.6), rgba(60, 45, 30, 0.7));
  border-color: rgba(80, 60, 40, 0.8);
  box-shadow:
    inset 0 4px 8px rgba(0,0,0,0.4),
    0 1px 2px rgba(0,0,0,0.2);
}

/* 날짜 툴팁 */
.date-tooltip {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(10px);
  margin-bottom: 10px;
  opacity: 0;
  pointer-events: none;
  z-index: 10000; /* 헤더보다 위에 표시 */
  transition: all 0.3s ease;
}

.empty-slot:hover .date-tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.date-tooltip-card {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border: 3px solid #E8CD8E;
  border-radius: 12px;
  padding: 8px 12px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  text-align: center;
  white-space: nowrap;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  font-weight: bold;
  color: #A68B6A; /* 꽃 툴팁 날짜와 동일한 색상 */
  position: relative;
}

.date-tooltip-card::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid #E8CD8E;
}

/* ============================================
   5. 하단 바 (월 선택, 일기 작성, 도감 버튼)
============================================ */

/* 월 선택 바 (하단 고정) */
.month-selector-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 9998;
  background: rgba(139, 111, 71, 0.95);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px); /* Safari 지원 */
  padding: 16px 20px;
  padding-bottom: calc(16px + env(safe-area-inset-bottom)); /* iOS 안전 영역 고려 */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 30px;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
  border-top: 3px solid #E8CD8E;
}

.month-nav {
  background: rgba(255, 255, 255, 0.2);
  border: 2px solid rgba(255, 255, 255, 0.5);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
  font-weight: bold;
}

.month-nav:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

.month-display {
  font-size: 20px;
  font-weight: 800;
  color: white;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  min-width: 160px;
  text-align: center;
  flex-shrink: 0;
  cursor: pointer;
  padding: 8px 16px;
  border-radius: 10px;
  transition: background 0.2s ease;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(255, 255, 255, 0.2);
}

.month-display:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
}

/* 일기 작성 버튼 */
.write-diary-btn {
  background: rgba(255, 255, 255, 0.2);
  border: 2px solid rgba(255, 255, 255, 0.5);
  color: white;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  flex-shrink: 0;
  margin-left: auto;
  padding: 8px;
}

.trowel-icon {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: brightness(0) invert(1);
  transition: all 0.3s ease;
}

.write-diary-btn:hover {
  background: rgba(255, 255, 255, 0.35);
  transform: scale(1.15) rotate(-15deg);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
}

.write-diary-btn:hover .trowel-icon {
  filter: brightness(0) invert(1) drop-shadow(0 0 8px rgba(255, 255, 255, 0.8));
}

.write-diary-btn:active {
  transform: scale(1.05) rotate(-10deg);
}

/* 도감 버튼 */
.encyclopedia-btn {
  background: rgba(255, 255, 255, 0.2);
  border: 2px solid rgba(255, 255, 255, 0.5);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  flex-shrink: 0;
  margin-right: auto;
}

.encyclopedia-btn:hover {
  background: rgba(255, 255, 255, 0.35);
  transform: scale(1.1);
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
}

/* 작은 화면 대응 (하단 바) */
@media (max-width: 480px) {
  /* 타이틀 글자 크기 축소 */
  .page-title {
    font-size: 32px;
    letter-spacing: 2px;
  }

  /* 화단 섹션 상단 여백 축소 */
  .garden-section {
    padding-top: 5px;
    justify-content: flex-start;
  }

  /* 요일 헤더 컨테이너 모바일 대응 */
  .weekday-header-container {
    padding: 6px 10%;
    margin-bottom: 6px;
  }

  /* 요일 헤더 모바일 대응 */
  .weekday-header {
    font-size: 13px;
  }

  .month-selector-bar {
    padding: 12px 10px;
    padding-bottom: calc(12px + env(safe-area-inset-bottom));
    gap: 12px;
  }

  .month-nav {
    width: 35px;
    height: 35px;
    font-size: 14px;
  }

  .month-display {
    font-size: 16px;
    min-width: 120px;
    padding: 6px 10px;
  }

  .write-diary-btn {
    width: 42px;
    height: 42px;
    padding: 6px;
  }

  .encyclopedia-btn {
    width: 35px;
    height: 35px;
  }
}

@media (max-width: 360px) {
  .month-selector-bar {
    padding: 10px 6px;
    padding-bottom: calc(10px + env(safe-area-inset-bottom));
    gap: 8px;
  }

  .month-nav {
    width: 32px;
    height: 32px;
    font-size: 13px;
  }

  .month-display {
    font-size: 14px;
    min-width: 100px;
    padding: 5px 8px;
  }

  .write-diary-btn {
    width: 38px;
    height: 38px;
    padding: 5px;
  }

  .encyclopedia-btn {
    width: 32px;
    height: 32px;
  }
}

/* ============================================
   6. 모달 공통 스타일
============================================ */

/* 모달 스타일 */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.modal.active {
  display: flex;
}

.modal-content {
  position: relative;
  background-color: #FFF9E8;
  /* 종이 질감 추가 */
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 31px,
      rgba(212, 197, 176, 0.1) 31px,
      rgba(212, 197, 176, 0.1) 32px
    ),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  border-radius: 16px;
  max-width: 500px;
  width: 90%;
  height: 600px; /* 고정 높이 */
  max-height: 85vh; /* fallback */
  max-height: 85dvh; /* 모바일 브라우저 UI 고려 */
  overflow: hidden; /* 외부 스크롤 숨김 */
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  padding: 20px 40px 40px 75px;
  animation: modalSlideIn 0.15s ease-out;
  display: flex;
  flex-direction: column;
}

/* 왼쪽 마진선 제거됨 */

/* 왼쪽 스프링 구멍들 (투명) */
.modal-content::after {
  content: '';
  position: absolute;
  left: 20px;
  top: 60px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.08);
  border: 2px solid rgba(139, 115, 85, 0.3);
  box-shadow:
    0 60px 0 rgba(0, 0, 0, 0.08),
    0 60px 0 0 rgba(139, 115, 85, 0.3) inset,
    0 120px 0 rgba(0, 0, 0, 0.08),
    0 180px 0 rgba(0, 0, 0, 0.08),
    0 240px 0 rgba(0, 0, 0, 0.08),
    0 300px 0 rgba(0, 0, 0, 0.08),
    0 360px 0 rgba(0, 0, 0, 0.08),
    0 420px 0 rgba(0, 0, 0, 0.08);
}

/* 3D 플립 카드 컨테이너 */
.flip-card-container {
  perspective: 1500px;
  max-width: 500px;
  width: 90%;
  height: 600px;
  max-height: 85vh; /* fallback */
  max-height: 85dvh; /* 모바일 브라우저 UI 고려 */
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.8s;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d; /* Safari 지원 */
  perspective: 1000px; /* Safari 3D 변환 개선 */
  -webkit-perspective: 1000px;
}

.flip-card-inner.is-flipped {
  transform: rotateY(180deg);
  -webkit-transform: rotateY(180deg); /* Safari 지원 */
}

.flip-card-front,
.flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  pointer-events: none;
  will-change: transform; /* GPU 가속 활성화 */
  -webkit-font-smoothing: antialiased; /* Safari 렌더링 개선 */
}

.flip-card-front {
  z-index: 2; /* 앞면이 뒷면보다 위에 */
  transform: rotateY(0deg);
  -webkit-transform: rotateY(0deg);
}

.flip-card-back {
  z-index: 1; /* 뒷면이 앞면보다 아래에 */
  transform: rotateY(180deg);
  -webkit-transform: rotateY(180deg); /* Safari 지원 */
}

.flip-card-front.active,
.flip-card-back.active {
  pointer-events: auto;
}

.flip-card-inner:not(.is-flipped) .flip-card-front {
  pointer-events: auto;
}

.flip-card-inner.is-flipped .flip-card-back {
  pointer-events: auto;
}

/* 일기 읽기 모달 - 스크롤 작동하도록 */
.diary-read-modal {
  display: flex;
  flex-direction: column;
}

/* 꽃 수채화 배경 이미지 (투명) */
.flower-watercolor-bg {
  position: absolute;
  top: 10%;
  left: 8%;
  max-width: 300px;
  height: auto;
  max-height: 350px;
  z-index: -1; /* 폰트보다 뒤로 가도록 */
  pointer-events: none;
}

.watercolor-bg-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  opacity: 0.35; /* 투명하게 */
}

.modal-header {
  padding: 0 0 20px 0;
  border-bottom: 2px solid #D4C5B0;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  flex-shrink: 0; /* 헤더 크기 고정 */
  position: relative;
  z-index: 10;
}

.header-buttons {
  display: flex;
  gap: 8px;
  align-items: center;
}

.modal-header h2 {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 28px;
  color: #5D4E37;
  text-shadow: none;
}

.modal-header p {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  color: #8B7355;
}

.modal-body {
  padding: 20px 0 0 0;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  line-height: 2.2;
  flex: 1;
  overflow-y: auto; /* 내부 스크롤 */
  overflow-x: hidden;
  min-height: 0; /* flex 스크롤을 위해 필요 */
  position: relative; /* 꽃 배경 위치 기준 */
  z-index: 1;
}

/* 스크롤바 스타일링 */
.modal-body::-webkit-scrollbar {
  width: 8px;
}

.modal-body::-webkit-scrollbar-track {
  background: rgba(232, 205, 142, 0.2);
  border-radius: 10px;
}

.modal-body::-webkit-scrollbar-thumb {
  background: rgba(139, 111, 71, 0.5);
  border-radius: 10px;
}

.modal-body::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 111, 71, 0.7);
}

.diary-content {
  font-size: 20px;
  color: #5D4E37;
  line-height: 1.5;
  white-space: pre-wrap;
  word-break: keep-all;
  min-height: 200px;
  margin-bottom: 30px;
}

/* 분석 안된 일기 액션 */
.unanalyzed-actions {
  border-top: 2px dashed #E8CD8E;
  padding-top: 24px;
  margin-top: 20px;
}

.unanalyzed-message {
  text-align: center;
  margin-bottom: 20px;
}

.unanalyzed-icon {
  font-size: 60px;
  margin-bottom: 10px;
}

.unanalyzed-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  color: #8B6F47;
  font-weight: bold;
}

.action-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
}

.reanalyze-btn {
  background: #8B6F47;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.reanalyze-btn:hover {
  background: #6F5835;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}

.reanalyze-btn.test-btn {
  background: #A68B6A;
  border: 2px dashed #8B6F47;
}

.reanalyze-btn.test-btn:hover {
  background: #8B7355;
}

.delete-btn {
  background: #D32F2F;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.delete-btn:hover {
  background: #B71C1C;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}

/* AI 분석 섹션 */
.ai-analysis-section {
  border-top: 2px dashed #E8CD8E;
  padding-top: 24px;
  margin-top: 20px;
}

.analysis-title {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 24px;
  font-weight: bold;
  color: #8B6F47;
  margin-bottom: 20px;
  text-align: center;
}

.analysis-item {
  margin-bottom: 20px;
}

.analysis-label {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 8px;
}

.analysis-value {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  color: #5D4E37;
  line-height: 1.6;
  padding: 12px;
  background: rgba(232, 205, 142, 0.1);
  border-radius: 8px;
  border-left: 4px solid #E8CD8E;
}

.analysis-value.highlight {
  background: rgba(232, 205, 142, 0.25);
  font-weight: bold;
  font-size: 20px;
  text-align: center;
  border-left: none;
  border: 2px solid #E8CD8E;
}

/* 감정 차트 섹션 */
.emotion-chart-section {
  margin-top: 24px;
}

.emotion-chart-wrapper {
  width: 100%;
  height: 180px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 12px;
  border: 1px solid rgba(232, 205, 142, 0.3);
}

/* 차트가 1개일 때 */
.emotion-chart-wrapper:has(canvas) {
  min-height: 100px;
}

/* 차트 컨테이너 */
.chart-container {
  width: 100%;
  max-width: 250px;
  margin: 16px auto;
  padding: 20px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* 감정 레전드 */
.emotion-legend {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 16px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.legend-item:hover {
  background: rgba(232, 205, 142, 0.3);
  transform: translateX(4px);
}

.legend-color {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  flex-shrink: 0;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.legend-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #5D4E37;
  font-weight: 600;
}

.close-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: #8B7355;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s;
}

.close-btn:hover {
  background: rgba(139, 115, 85, 0.1);
  transform: scale(1.1);
}

/* 이미지 저장 버튼 */
.save-image-btn {
  background: rgba(139, 195, 74, 0.3);
  border: 2px solid #8BC34A;
  cursor: pointer;
  color: #558B2F;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.3s;
}

.save-image-btn:hover {
  background: rgba(139, 195, 74, 0.6);
  transform: scale(1.1);
}

/* 뒤집기 버튼 */
.flip-btn {
  background: rgba(232, 205, 142, 0.3);
  border: 2px solid #E8CD8E;
  cursor: pointer;
  color: #8B7355;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.3s;
}

.flip-btn:hover {
  background: rgba(232, 205, 142, 0.6);
  transform: scale(1.1) rotate(180deg);
}

/* ============================================
   7. 꽃 도감 (Catalog) 스타일
============================================ */

/* 도감 스타일 - 꽃 정보 */
.flower-catalog {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.flower-catalog-bg {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.flower-catalog-image {
  width: 100%;
  max-width: 400px;
  height: auto;
  max-height: 450px;
  object-fit: contain;
}

/* 포스트잇 스타일 */
.postit {
  position: absolute;
  background: #FFE66D;
  padding: 12px 20px;
  box-shadow:
    0 2px 4px rgba(0,0,0,0.1),
    0 4px 8px rgba(0,0,0,0.05);
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  transform: rotate(-3deg);
  transition: box-shadow 0.2s ease;
}

/* 드래그 가능 */
.draggable {
  cursor: move;
  user-select: none;
}

.draggable:hover {
  box-shadow:
    0 4px 8px rgba(0,0,0,0.15),
    0 6px 12px rgba(0,0,0,0.1);
  z-index: 1000;
}

.draggable:active {
  cursor: grabbing;
  box-shadow:
    0 6px 12px rgba(0,0,0,0.2),
    0 8px 16px rgba(0,0,0,0.15);
}

/* 꽃 이름 포스트잇 (왼쪽 하단) */
.postit-name {
  bottom: 30px;
  left: 30px;
  background: #FFE66D;
  transform: rotate(-5deg);
}

.postit-name .postit-text {
  font-size: 24px;
  font-weight: bold;
  color: #5D4E37;
}

.postit-name .latin-name {
  display: block;
  font-size: 14px;
  font-weight: normal;
  font-style: italic;
  color: #8B7355;
  margin-top: 4px;
}

/* 꽃말 포스트잇 (오른쪽 하단) */
.postit-meaning {
  bottom: 30px;
  right: 30px;
  background: #FFB4D5;
  transform: rotate(8deg);
}

.postit-meaning .postit-text {
  font-size: 18px;
  font-weight: 600;
  color: #8B3A62;
  line-height: 1.6;
}

/* 하단 상세 정보 */
.flower-detail-info {
  border-top: 2px dashed #E8CD8E;
  padding-top: 24px;
  margin-top: 20px;
}

.detail-section {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 15px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  transition: all 0.2s ease;
}

/* hover 애니메이션 제거 (터치 디바이스 대응) */

.detail-section.story-section {
  border-left-color: #FFB4D5;
}

.detail-icon {
  font-size: 24px;
  flex-shrink: 0;
  line-height: 1;
}

.detail-content {
  flex: 1;
}

.detail-title {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 4px;
}

.detail-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #5D4E37;
  line-height: 1.5;
  word-break: keep-all;
}

/* 긴 텍스트 (유래, 재미있는 사실) */
.detail-text.story-text {
  font-size: 14px;
  line-height: 1.7;
  max-height: 150px;
  overflow-y: auto;
  padding-right: 8px;
}

/* 색상 팔레트 */
.color-palette {
  display: flex;
  gap: 8px;
  margin-top: 10px;
  flex-wrap: wrap;
}

.color-chip {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 2px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15), inset 0 1px 2px rgba(255, 255, 255, 0.3);
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.color-chip:hover {
  transform: scale(1.15);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

/* 색상 코드 툴팁 */
.color-chip::after {
  content: attr(title);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 8px;
  padding: 4px 8px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  font-size: 11px;
  font-family: monospace;
  border-radius: 4px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.color-chip:hover::after {
  opacity: 1;
}

/* 스크롤바 스타일 */
.flower-detail-info::-webkit-scrollbar {
  width: 6px;
}

.flower-detail-info::-webkit-scrollbar-track {
  background: rgba(232, 205, 142, 0.2);
  border-radius: 10px;
}

.flower-detail-info::-webkit-scrollbar-thumb {
  background: rgba(139, 111, 71, 0.5);
  border-radius: 10px;
}

.flower-detail-info::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 111, 71, 0.7);
}

/* ============================================
   8. 일기 작성 모달
============================================ */

/* 감정 선택기 */
.emotion-selector {
  margin-bottom: 20px;
}

.emotion-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  max-height: 280px;
  overflow-y: auto;
  padding: 4px;
}

.emotion-btn {
  padding: 10px 6px;
  border: 2px solid #E8CD8E;
  background: white;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.emotion-btn:hover {
  background: #FFF9E6;
  border-color: #D4B87A;
  transform: scale(1.05);
}

.emotion-btn.active {
  background: #E8CD8E;
  border-color: #C0A466;
  color: white;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transform: scale(1.05);
}

.emotion-icon {
  font-size: 24px;
  line-height: 1;
}

.emotion-name {
  font-size: 12px;
  font-weight: 600;
  color: #8B6F47;
  text-align: center;
}

.emotion-btn.active .emotion-name {
  color: white;
}

/* 일기 작성 폼 */
.diary-form {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.diary-form textarea {
  width: 100%;
  min-height: 300px;
  flex: 1;
  padding: 0;
  border: none;
  background: transparent;
  font-size: 20px;
  line-height: 1.5;
  resize: none;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  color: #5D4E37;
  margin-bottom: 20px;
}

.diary-form textarea::placeholder {
  color: #B8A89A;
  opacity: 0.8;
}

.diary-form textarea:focus {
  outline: none;
}

.diary-form button {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
}

.cancel-btn {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  background: transparent;
  color: #8B7355;
  padding: 8px 16px;
  border: 2px solid #E8CD8E;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.cancel-btn:hover {
  background: #FFF9E6;
  border-color: #D4B87A;
  transform: translateY(-1px);
}

.save-btn {
  background: #8B6F47;
  color: white;
  padding: 8px 16px;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.save-btn:hover {
  background: #6F5835;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}

.test-btn {
  background: #A68B6A;
  border: 2px dashed #8B6F47;
}

.test-btn:hover {
  background: #8B7355;
}

/* 테스트 버튼 영역 선택 툴팁 */
.test-btn-wrapper {
  position: relative;
  display: inline-block;
}

.area-tooltip {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: white;
  border: 2px solid #E8CD8E;
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 1000;
  min-width: 200px;
}

.area-tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 8px solid transparent;
  border-top-color: #E8CD8E;
}

.area-tooltip-title {
  font-size: 12px;
  color: #8B7355;
  margin-bottom: 8px;
  text-align: center;
  font-weight: 600;
}

.area-options {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.area-option {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border: 2px solid transparent;
  border-radius: 8px;
  background: #FFF9E8;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 13px;
  font-weight: 500;
}

.area-option:hover {
  background: #F4E4C1;
  border-color: currentColor;
  transform: translateX(2px);
}

.area-option.area-red { color: #EF5350; }
.area-option.area-yellow { color: #FFB74D; }
.area-option.area-blue { color: #42A5F5; }
.area-option.area-green { color: #66BB6A; }

.area-color {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  flex-shrink: 0;
}

/* ============================================
   9. 날짜 선택 모달
============================================ */

/* 날짜 선택 모달 */
.date-picker-content {
  background: white;
  border-radius: 20px;
  max-width: 400px;
  width: 90%;
  max-height: 80vh; /* fallback */
  max-height: 80dvh; /* 모바일 브라우저 UI 고려 */
  overflow-y: auto;
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  animation: modalSlideIn 0.3s ease-out;
}

.date-picker-header {
  padding: 20px;
  border-bottom: 2px solid #f0f0f0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #F4E4C1;
  border-radius: 20px 20px 0 0;
}

.date-picker-header h2 {
  color: #8B6F47;
  font-weight: 800;
}

.date-picker-body {
  padding: 20px;
}

.date-section {
  margin-bottom: 25px;
}

.date-label {
  display: block;
  font-size: 16px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 12px;
  text-align: center;
}

/* 컴팩트 날짜 선택 섹션 */
.date-compact-section {
  margin-bottom: 25px;
}

.date-selector-row {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 15px;
  justify-content: center;
}

.year-selector,
.month-selector {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border: 2px solid #E8CD8E;
  border-radius: 16px;
  padding: 12px 16px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.nav-arrow {
  background: rgba(232, 205, 142, 0.3);
  border: 2px solid #E8CD8E;
  color: #8B6F47;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.nav-arrow:hover {
  background: rgba(232, 205, 142, 0.6);
  transform: scale(1.1);
}

.nav-arrow:active {
  transform: scale(0.95);
}

.selected-value {
  font-size: 20px;
  font-weight: 800;
  color: #8B6F47;
  min-width: 90px;
  text-align: center;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

/* 캘린더 그리드 (일 선택) */
.calendar-section {
  margin-bottom: 20px;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
  max-height: 280px;
  overflow-y: auto;
  padding: 4px;
}

.calendar-day-btn {
  aspect-ratio: 1;
  padding: 8px;
  border: 2px solid #E8CD8E;
  background: white;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 600;
  color: #8B6F47;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.calendar-day-btn:hover {
  background: #FFF9E6;
  border-color: #D4B87A;
  transform: scale(1.05);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.calendar-day-btn.active {
  background: #E8CD8E;
  border-color: #D4B87A;
  color: white;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transform: scale(1.08);
}

.calendar-grid::-webkit-scrollbar {
  width: 6px;
}

.calendar-grid::-webkit-scrollbar-track {
  background: rgba(232, 205, 142, 0.2);
  border-radius: 10px;
}

.calendar-grid::-webkit-scrollbar-thumb {
  background: rgba(139, 111, 71, 0.5);
  border-radius: 10px;
}

.calendar-grid::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 111, 71, 0.7);
}

.confirm-date-btn {
  width: 100%;
  padding: 14px;
  background: #8B6F47;
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  margin-top: 10px;
}

.confirm-date-btn:hover {
  background: #6F5835;
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.3);
}

/* ============================================
   10. 레터 알림 모달
============================================ */

.letter-notification-modal {
  display: flex !important;
  background: rgba(0, 0, 0, 0.7);
  z-index: 1000;
}

.letter-notification-content {
  background: white;
  border-radius: 20px;
  padding: 35px 30px;
  text-align: center;
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  animation: modalSlideIn 0.3s ease-out;
  max-width: 400px;
  width: 90%;
}

.letterbox-animation {
  margin-bottom: 25px;
  animation: letterboxShake 0.8s ease-in-out;
}

.letterbox-img {
  width: 100px;
  height: auto;
}

.letter-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 22px;
  color: #8B6F47;
  margin-bottom: 12px;
  font-weight: 700;
}

.letter-message {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  color: #5D4E37;
  margin-bottom: 25px;
  line-height: 1.7;
}

.letter-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.letter-btn {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  padding: 12px 30px;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

.letter-btn.primary {
  background: linear-gradient(135deg, #8B6F47 0%, #6B5437 100%);
  color: white;
}

.letter-btn.primary:hover {
  background: linear-gradient(135deg, #6B5437 0%, #5B4427 100%);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}

.letter-btn.secondary {
  background: white;
  color: #8B6F47;
  border: 2px solid #E8CD8E;
}

.letter-btn.secondary:hover {
  background: #F9F6F0;
  border-color: #D4B87A;
  transform: translateY(-1px);
}

/* ============================================
   11. 베이스 모달 (공통)
============================================ */

.base-modal-content {
  background: white;
  border-radius: 20px;
  width: 90%;
  max-height: 85vh; /* fallback */
  max-height: 85dvh; /* 모바일 브라우저 UI 고려 */
  overflow: hidden;
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  animation: modalSlideIn 0.3s ease-out;
  display: flex;
  flex-direction: column;
}

.base-modal-header {
  padding: 20px;
  border-bottom: 2px solid #f0f0f0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(135deg, #F4E4C1 0%, #E8D5B5 100%);
  border-radius: 20px 20px 0 0;
}

.base-modal-header h2 {
  color: #8B6F47;
  font-weight: 800;
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.base-modal-body {
  padding: 25px;
  overflow-y: auto;
  flex: 1;
}

.base-modal-footer {
  padding: 15px 20px;
  border-top: 2px solid #f0f0f0;
  display: flex;
  justify-content: center;
}

/* ============================================
   12. 감정 무드미터 모달 (내용 스타일)
============================================ */

/* 카드 슬라이더 컨테이너 */
.card-slider-container {
  position: relative;
  width: 100%;
  overflow: hidden;
  padding-bottom: 45px;
}

.card-slider {
  width: 100%;
  overflow: hidden;
  position: relative;
  touch-action: pan-y;
  cursor: grab;
}

.card-slider:active {
  cursor: grabbing;
}

.cards-wrapper {
  display: flex;
  transition: transform 0.45s cubic-bezier(0.25, 0.8, 0.25, 1);
  width: 100%;
}

.guide-card {
  min-width: 100%;
  height: calc(80vh - 100px); /* fallback */
  height: calc(80dvh - 100px); /* 모바일 브라우저 UI 고려 */
  padding: 24px;
  border-radius: 24px;
  box-shadow: 0 8px 30px rgba(139, 111, 71, 0.12);
  box-sizing: border-box;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow: hidden;
}

/* 각 카드별 고유 스타일 - 파스텔 톤 */
.section-importance {
  background: linear-gradient(135deg, #FFF8E1 0%, #FFFAF0 100%);
  border: 3px solid #FFE082;
}

.section-intro {
  background: linear-gradient(135deg, #FFF3E0 0%, #FFF8E1 100%);
  border: 3px solid #FFCC80;
}

.section-definition {
  background: linear-gradient(135deg, #FFF9C4 0%, #FFF3E0 100%);
  border: 3px solid #FFD54F;
}

.section-usage {
  background: linear-gradient(135deg, #E8F5E9 0%, #F1F8E9 100%);
  border: 3px solid #AED581;
}

.section-footer {
  background: linear-gradient(135deg, #FCE4EC 0%, #FFF8E1 100%);
  border: 3px solid #F48FB1;
}

/* 카드 공통 요소 */
.card-emoji {
  font-size: 42px;
  margin-bottom: 10px;
  animation: bounce 2s ease-in-out infinite;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.card-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #6D4C41;
  margin: 0 0 8px 0;
  line-height: 1.3;
}

.card-subtitle {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B6F47;
  margin-bottom: 12px;
}

/* ===== 카드 1: 중요성 ===== */
.benefits-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  width: 100%;
  margin-top: 10px;
}

.benefit-card {
  background: rgba(255, 255, 255, 0.7);
  border-radius: 12px;
  padding: 10px 8px;
  transition: all 0.3s ease;
  border: 2px solid rgba(255, 224, 130, 0.5);
}

.benefit-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(255, 193, 7, 0.2);
  border-color: #FFE082;
}

.benefit-emoji {
  font-size: 26px;
  margin-bottom: 5px;
}

.benefit-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 11.5px;
  color: #6D4C41;
  line-height: 1.35;
}

/* ===== 카드 2: 도입부 ===== */
.story-box {
  width: 100%;
  margin-bottom: 10px;
}

.story-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #6D4C41;
  line-height: 1.5;
  margin-bottom: 10px;
}

.emotion-bubbles {
  display: flex;
  justify-content: center;
  gap: 7px;
  flex-wrap: wrap;
}

.bubble {
  background: rgba(255, 255, 255, 0.8);
  padding: 7px 12px;
  border-radius: 16px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 12px;
  color: #6D4C41;
  border: 2px solid #FFCC80;
  transition: all 0.3s ease;
}

.bubble:hover {
  transform: scale(1.05);
  background: rgba(255, 255, 255, 1);
}

.question-box {
  background: rgba(255, 255, 255, 0.6);
  border-radius: 16px;
  padding: 14px;
  margin: 10px 0;
  border: 2px dashed #FFCC80;
}

.question-icon {
  font-size: 28px;
  margin-bottom: 6px;
}

.question-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #6D4C41;
  line-height: 1.5;
  font-style: italic;
}

.answer-box {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 248, 225, 0.9) 100%);
  border-radius: 16px;
  padding: 14px 18px;
  border: 3px solid #FFCC80;
}

.answer-emoji {
  font-size: 26px;
  margin-bottom: 8px;
}

.answer-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #6D4C41;
  line-height: 1.4;
}

.answer-text strong {
  color: #FF6F00;
  font-size: 15px;
}

/* ===== 카드 3: 정의 ===== */
.definition-box {
  background: rgba(255, 255, 255, 0.7);
  border-radius: 16px;
  padding: 14px;
  margin: 10px 0;
  border: 2px solid #FFD54F;
}

.definition-placeholder {
  width: 300px;
  height: 15   0px;
  margin: 0 auto 20px;
}

.definition-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.definition-icon {
  font-size: 32px;
  margin-bottom: 8px;
}

.definition-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #6D4C41;
  line-height: 1.5;
}

.definition-text .highlight {
  background: linear-gradient(180deg, transparent 50%, #FFE082 50%);
  padding: 2px 6px;
  font-weight: 700;
  color: #E65100;
}

.colors-display {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 12px 0;
}

.color-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}

.color-circle {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

.color-circle:hover {
  transform: scale(1.15);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

.color-circle.red {
  background: linear-gradient(135deg, #FFCDD2 0%, #EF5350 100%);
}

.color-circle.yellow {
  background: linear-gradient(135deg, #FFF9C4 0%, #FFD54F 100%);
}

.color-circle.blue {
  background: linear-gradient(135deg, #BBDEFB 0%, #42A5F5 100%);
}

.color-circle.green {
  background: linear-gradient(135deg, #C8E6C9 0%, #66BB6A 100%);
}

.color-item span {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 11px;
  color: #6D4C41;
  font-weight: 600;
}

.compass-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  background: rgba(255, 255, 255, 0.9);
  padding: 8px 18px;
  border-radius: 24px;
  border: 2px solid #FFD54F;
  margin-top: 10px;
}

.badge-icon {
  font-size: 18px;
}

.badge-text {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #6D4C41;
  font-weight: 700;
}

/* ===== 카드 4: 사용법 ===== */
.steps-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 7px;
  margin-top: 10px;
}

.cute-step {
  display: flex;
  align-items: center;
  gap: 9px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 14px;
  padding: 10px;
  border: 2px solid #AED581;
  transition: all 0.3s ease;
}

.cute-step:hover {
  transform: translateX(8px);
  box-shadow: 0 4px 16px rgba(174, 213, 129, 0.3);
}

.step-circle {
  flex-shrink: 0;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: linear-gradient(135deg, #AED581 0%, #9CCC65 100%);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  font-weight: 700;
  box-shadow: 0 3px 8px rgba(174, 213, 129, 0.4);
}

.step-emoji {
  font-size: 26px;
  flex-shrink: 0;
}

.step-box {
  flex: 1;
  text-align: left;
}

.step-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #6D4C41;
  font-weight: 700;
  margin-bottom: 2px;
}

.step-desc {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 11.5px;
  color: #8B6F47;
  line-height: 1.35;
}

.step-arrow {
  text-align: center;
  font-size: 18px;
  color: #AED581;
  margin: 1px 0;
}

/* ===== 카드 5: 마무리 ===== */
.final-message {
  width: 100%;
}

.message-icon {
  font-size: 36px;
  margin-bottom: 10px;
}

.final-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 22px;
  color: #6D4C41;
  font-weight: 700;
  margin: 0 0 14px 0;
}

.message-content {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 14px;
}

.message-item {
  display: flex;
  align-items: center;
  gap: 9px;
  background: rgba(255, 255, 255, 0.8);
  padding: 10px 14px;
  border-radius: 12px;
  border: 2px solid #F48FB1;
  transition: all 0.3s ease;
}

.message-item:hover {
  transform: scale(1.03);
  box-shadow: 0 4px 16px rgba(244, 143, 177, 0.3);
}

.check-icon {
  font-size: 22px;
  flex-shrink: 0;
}

.message-item p {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #6D4C41;
  margin: 0;
  line-height: 1.4;
}

.flower-decoration {
  font-size: 22px;
  letter-spacing: 5px;
  margin-top: 10px;
  opacity: 0.8;
}

/* 네비게이션 버튼 */
.nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg, #8B6F47 0%, #6D4C41 100%);
  color: white;
  border: 3px solid rgba(255, 255, 255, 0.9);
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  z-index: 10;
  box-shadow: 0 4px 12px rgba(139, 111, 71, 0.3);
}

.nav-btn:hover {
  background: linear-gradient(135deg, #6D4C41 0%, #5D4037 100%);
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 6px 20px rgba(139, 111, 71, 0.4);
}

.nav-btn-prev {
  left: -20px;
}

.nav-btn-next {
  right: -20px;
}

/* 페이지 인디케이터 */
.card-indicators {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
  z-index: 10;
  background: rgba(255, 255, 255, 0.8);
  padding: 8px 16px;
  border-radius: 20px;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.indicator-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #D4A574;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
  opacity: 0.5;
}

.indicator-dot:hover {
  opacity: 0.8;
  transform: scale(1.2);
}

.indicator-dot.active {
  background: linear-gradient(135deg, #8B6F47 0%, #6D4C41 100%);
  opacity: 1;
  width: 32px;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(139, 111, 71, 0.4);
}

.section-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 12px;
}

.section-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #5D4E37;
  line-height: 1.7;
}

.section-text strong {
  color: #8B6F47;
  font-weight: 700;
}

/* 4가지 감정 영역 */
.mood-quadrants {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  margin-top: 12px;
}

.quadrant {
  padding: 15px;
  border-radius: 12px;
  text-align: center;
  transition: all 0.2s ease;
  border: 2px solid;
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
}

.quadrant:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.quadrant.red {
  border-color: #EF5350;
}

.quadrant.yellow {
  border-color: #FFB74D;
}

.quadrant.blue {
  border-color: #42A5F5;
}

.quadrant.green {
  border-color: #66BB6A;
}

.quadrant-icon {
  font-size: 30px;
  margin-bottom: 8px;
}

.quadrant-name {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 5px;
}

.quadrant-desc {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #666;
  margin-bottom: 8px;
}

.quadrant-emotions {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 12px;
  color: #999;
}

/* 사용 방법 스텝 */
.usage-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.step {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 10px;
  transition: all 0.2s ease;
}

.step:hover {
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.step-number {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  background: #8B6F47;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: 700;
}

.step-content {
  flex: 1;
}

.step-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #8B6F47;
  font-weight: 700;
  margin-bottom: 4px;
}

.step-desc {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #666;
}

/* 하단 메시지 */
.footer-message {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B6F47;
  text-align: center;
  line-height: 1.6;
  margin: 0;
}

/* 감정을 아는 게 왜 중요할까요 섹션 */
.benefits-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 15px;
}

.benefit-item {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #5D4E37;
  line-height: 1.6;
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 8px;
  border-left: 3px solid #F4D77E;
  transition: all 0.2s ease;
}

.benefit-item:hover {
  background: rgba(255, 255, 255, 0.9);
  border-left-color: #D4AF37;
  transform: translateX(3px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.important-message {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B6F47;
  line-height: 1.7;
  margin-top: 18px;
  padding: 12px 15px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 10px;
  border: 2px dashed #F4D77E;
  text-align: center;
  font-weight: 600;
}

/* 도입부 섹션 (section-intro 클래스로 스타일 적용됨) */

.intro-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #5D4E37;
  line-height: 1.8;
  margin-bottom: 15px;
}

.intro-text:last-of-type {
  margin-bottom: 18px;
}

.intro-highlight {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #8B6F47;
  font-weight: 700;
  padding: 12px 15px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 8px;
  border-left: 4px solid #D4AF37;
  margin: 0;
}

/* 공통 확인 버튼 (무드미터 가이드용) */
.confirm-btn {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  padding: 14px 36px;
  background: linear-gradient(135deg, #8B6F47 0%, #6D4C41 100%);
  color: white;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 25px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(139, 111, 71, 0.3);
}

.confirm-btn:hover {
  background: linear-gradient(135deg, #6D4C41 0%, #5D4037 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(139, 111, 71, 0.4);
  border-color: rgba(255, 255, 255, 0.5);
}

/* 모바일 반응형 */
@media (max-width: 640px) {
  .mood-quadrants {
    grid-template-columns: 1fr;
  }

  .mood-meter-content {
    max-width: 95%;
  }

  .mood-meter-body {
    padding: 20px;
  }

  .card-slider-container {
    padding-bottom: 40px;
  }

  .guide-card {
    padding: 18px;
    height: calc(85vh - 80px); /* fallback */
    height: calc(85dvh - 80px); /* 모바일 브라우저 UI 고려 */
  }

  .card-emoji {
    font-size: 36px;
    margin-bottom: 10px;
  }

  .card-title {
    font-size: 18px;
    margin-bottom: 8px;
  }

  .card-subtitle {
    font-size: 13px;
    margin-bottom: 12px;
  }

  /* 카드 1 */
  .benefits-grid {
    grid-template-columns: 1fr;
    gap: 8px;
    margin-top: 10px;
  }

  .benefit-card {
    padding: 10px 8px;
  }

  .benefit-emoji {
    font-size: 24px;
    margin-bottom: 4px;
  }

  .benefit-text {
    font-size: 11px;
  }

  /* 카드 2 */
  .story-box {
    margin-bottom: 10px;
  }

  .story-text {
    font-size: 13px;
    margin-bottom: 10px;
  }

  .bubble {
    font-size: 11px;
    padding: 6px 10px;
  }

  .question-box {
    padding: 12px;
    margin: 10px 0;
  }

  .question-icon {
    font-size: 28px;
    margin-bottom: 6px;
  }

  .question-text {
    font-size: 12px;
  }

  .answer-box {
    padding: 12px 16px;
  }

  .answer-emoji {
    font-size: 24px;
    margin-bottom: 8px;
  }

  .answer-text {
    font-size: 13px;
  }

  .answer-text strong {
    font-size: 14px;
  }

  /* 카드 3 */
  .definition-box {
    padding: 12px;
    margin: 10px 0;
  }

  .definition-icon {
    font-size: 30px;
    margin-bottom: 8px;
  }

  .definition-text {
    font-size: 12px;
  }

  .colors-display {
    gap: 10px;
    margin: 12px 0;
  }

  .color-circle {
    width: 36px;
    height: 36px;
  }

  .color-item span {
    font-size: 10px;
  }

  .compass-badge {
    padding: 8px 16px;
    margin-top: 10px;
  }

  .badge-icon {
    font-size: 18px;
  }

  .badge-text {
    font-size: 12px;
  }

  /* 카드 4 */
  .steps-container {
    gap: 6px;
    margin-top: 10px;
  }

  .cute-step {
    padding: 10px;
    gap: 8px;
  }

  .step-circle {
    width: 28px;
    height: 28px;
    font-size: 14px;
  }

  .step-emoji {
    font-size: 24px;
  }

  .step-title {
    font-size: 12px;
    margin-bottom: 2px;
  }

  .step-desc {
    font-size: 11px;
  }

  .step-arrow {
    font-size: 18px;
    margin: 1px 0;
  }

  /* 카드 5 */
  .message-icon {
    font-size: 32px;
    margin-bottom: 10px;
  }

  .final-title {
    font-size: 20px;
    margin-bottom: 12px;
  }

  .message-content {
    gap: 8px;
    margin-bottom: 12px;
  }

  .message-item {
    padding: 10px 12px;
    gap: 8px;
  }

  .check-icon {
    font-size: 20px;
  }

  .message-item p {
    font-size: 12px;
  }

  .flower-decoration {
    font-size: 20px;
    letter-spacing: 4px;
    margin-top: 10px;
  }

  /* 네비게이션 */
  .nav-btn {
    width: 40px;
    height: 40px;
    font-size: 20px;
  }

  .nav-btn-prev {
    left: -15px;
  }

  .nav-btn-next {
    right: -15px;
  }

  /* 인디케이터 */
  .card-indicators {
    padding: 6px 12px;
  }

  .indicator-dot {
    width: 10px;
    height: 10px;
  }

  .indicator-dot.active {
    width: 26px;
  }
}

/* ============================================
   14. 알럿/로딩/미리보기 모달
============================================ */

/* 커스텀 알럿 */
.alert-modal {
  background: rgba(0, 0, 0, 0.6);
}

.alert-content {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border-radius: 20px;
  padding: 40px 30px;
  text-align: center;
  box-shadow: 0 15px 40px rgba(0,0,0,0.4);
  animation: modalSlideIn 0.3s ease-out;
  border: 3px solid #E8CD8E;
  max-width: 320px;
  width: 90%;
}

.alert-icon {
  margin-bottom: 20px;
  animation: alertBounce 0.6s ease-out;
  display: flex;
  justify-content: center;
  align-items: center;
}

.alert-icon .icon-svg {
  width: 64px;
  height: 64px;
}

.alert-icon .icon-svg.success {
  color: #66BB6A;
}

.alert-icon .icon-svg.error {
  color: #EF5350;
}

.alert-icon .icon-svg.info {
  color: #42A5F5;
}

.alert-icon .icon-svg.delete {
  color: #8B6F47;
}

.alert-message {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 22px;
  color: #5D4E37;
  margin-bottom: 30px;
  line-height: 1.6;
  font-weight: bold;
}

.alert-button {
  background: #8B6F47;
  color: white;
  padding: 12px 40px;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.alert-button:hover {
  background: #6F5835;
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.25);
}

/* 이미지 미리보기 모달 */
.image-preview-modal {
  background: rgba(0, 0, 0, 0.85);
  z-index: 1100;
}

.image-preview-content {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF8E7 100%);
  border-radius: 20px;
  padding: 0;
  max-width: 1000px;
  width: 95%;
  max-height: 95vh; /* fallback */
  max-height: 95dvh; /* 모바일 브라우저 UI 고려 */
  overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
  animation: modalSlideIn 0.3s ease-out;
  border: 3px solid #E8CD8E;
  display: flex;
  flex-direction: column;
}

.image-preview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 2px solid #E8CD8E;
  background: rgba(255, 251, 240, 0.95);
}

.image-preview-header h3 {
  margin: 0;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  color: #5D4E37;
}

.image-preview-body {
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  flex: 1;
}

.preview-image {
  position: relative;
  max-width: 100%;
  max-height: 75vh; /* fallback */
  max-height: 75dvh; /* 모바일 브라우저 UI 고려 */
  border-radius: 12px;
  /* box-shadow: 0 8px 24px rgba(0,0,0,0.3); */
  border: 2px solid #E8CD8E;
  padding: 20px 10px;
  background-color: #FFF9E8;
  object-fit: contain;
}

/* preview-image용 왼쪽 마진선 제거됨 */

/* preview-image용 스프링 구멍들 */
.preview-image::after {
  content: '';
  position: absolute;
  left: 20px;
  top: 40px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: #D4C5B0;
  box-shadow:
    0 50px 0 #D4C5B0,
    0 100px 0 #D4C5B0,
    0 150px 0 #D4C5B0,
    0 200px 0 #D4C5B0,
    0 250px 0 #D4C5B0,
    0 300px 0 #D4C5B0,
    0 350px 0 #D4C5B0,
    0 400px 0 #D4C5B0;
}

/* 캡쳐 옵션 */
.capture-options {
  width: 100%;
  padding: 12px 16px;
  background: rgba(255, 248, 231, 0.5);
  border: 1px dashed #E8CD8E;
  border-radius: 8px;
  display: flex;
  justify-content: center;
}

.option-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  color: #5D4E37;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.option-label input[type="checkbox"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: #8B6F47;
}

.option-label:hover {
  color: #8B6F47;
}

.image-preview-info {
  background: rgba(255, 236, 179, 0.3);
  border: 1px solid #FFE0B2;
  border-radius: 10px;
  padding: 12px 16px;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.image-preview-info p {
  margin: 0;
  line-height: 1.5;
  font-size: 13px;
}

.download-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #8B6F47 0%, #6F5835 100%);
  color: white;
  padding: 12px 28px;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  width: 100%;
  max-width: 280px;
}

.download-btn:hover {
  background: linear-gradient(135deg, #6F5835 0%, #5D4E37 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.3);
}

.download-btn:active {
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

@media (max-width: 640px) {
  .image-preview-content {
    max-width: 98%;
    width: 98%;
  }

  .image-preview-header {
    padding: 12px 16px;
  }

  .image-preview-body {
    padding: 16px;
    gap: 12px;
  }

  .preview-image {
    max-height: 65vh;
  }

  .image-preview-info {
    padding: 10px 14px;
  }

  .image-preview-info p {
    font-size: 12px;
  }

  .download-btn {
    font-size: 14px;
    padding: 11px 24px;
    max-width: 100%;
  }
}

/* 섹션 라벨 공통 스타일 (이모지 제거 후 텍스트 강조) */
.section-label {
  font-weight: bold !important;
  color: #5D4E37 !important;
  position: relative;
  padding-left: 12px !important;
}

.section-label::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 4px;
  height: 80%;
  background: linear-gradient(135deg, #E8CD8E 0%, #D4B87A 100%);
  border-radius: 2px;
}

/* 무드미터 색상 버전 (왼쪽 세로선만 변경) */
.section-label.red::before {
  background: #EF5350;
}

.section-label.yellow::before {
  background: #FFB74D;
}

.section-label.blue::before {
  background: #42A5F5;
}

.section-label.green::before {
  background: #66BB6A;
}

/* AI 로딩 화면 */
.loading-modal {
  z-index: 10000 !important; /* 모든 모달보다 위에 표시 */
  background: transparent;
  pointer-events: all;
}

.loading-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  z-index: 10001;
}

.loading-content {
  position: relative;
  z-index: 10002;
  background: linear-gradient(135deg, #F4E4C1 0%, #E8D5B5 100%);
  border-radius: 24px;
  padding: 50px 40px;
  text-align: center;
  box-shadow: 0 15px 40px rgba(0,0,0,0.4);
  animation: modalSlideIn 0.3s ease-out;
}

.loading-icon-wrapper {
  position: relative;
  height: 100px;
  margin-bottom: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.loading-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 24px;
  color: #5D4E37;
  font-weight: bold;
}

.loading-spinner {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.spinner-dot {
  position: absolute;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  animation: spinnerRotate 1.4s ease-in-out infinite;
}

.spinner-dot.dot-1 {
  /* Red - 무드미터 레드 영역 (높은 에너지, 불쾌) */
  background: linear-gradient(135deg, #FFB3BA 0%, #FF8A95 100%);
  box-shadow: 0 2px 8px rgba(255, 179, 186, 0.5);
  animation-delay: 0s;
}

.spinner-dot.dot-2 {
  /* Yellow - 무드미터 옐로우 영역 (높은 에너지, 즐거움) */
  background: linear-gradient(135deg, #FFFFB3 0%, #FFE66D 100%);
  box-shadow: 0 2px 8px rgba(255, 255, 179, 0.5);
  animation-delay: 0.35s;
}

.spinner-dot.dot-3 {
  /* Green - 무드미터 그린 영역 (낮은 에너지, 즐거움) */
  background: linear-gradient(135deg, #BAFFC9 0%, #90EE90 100%);
  box-shadow: 0 2px 8px rgba(186, 255, 201, 0.5);
  animation-delay: 0.7s;
}

.spinner-dot.dot-4 {
  /* Blue - 무드미터 블루 영역 (낮은 에너지, 불쾌) */
  background: linear-gradient(135deg, #BAE1FF 0%, #89CFF0 100%);
  box-shadow: 0 2px 8px rgba(186, 225, 255, 0.5);
  animation-delay: 1.05s;
}

@keyframes spinnerRotate {
  0%, 100% {
    transform: rotate(0deg) translateY(-30px) scale(1);
    opacity: 1;
  }
  25% {
    transform: rotate(90deg) translateY(-30px) scale(1.2);
    opacity: 0.8;
  }
  50% {
    transform: rotate(180deg) translateY(-30px) scale(1);
    opacity: 1;
  }
  75% {
    transform: rotate(270deg) translateY(-30px) scale(1.2);
    opacity: 0.8;
  }
}

/* ============================================
   13. 감정 도감 모달 (내용 스타일)
============================================ */

/* 감정 도감 모달 - 헤더 서브타이틀 */
.encyclopedia-header-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  position: relative;
}

.encyclopedia-header-left {
  flex: 1;
  text-align: center;
  position: relative;
}

.encyclopedia-subtitle {
  font-size: 14px;
  font-weight: 600;
  color: #A68B6A;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  margin-top: 4px;
}

.mood-meter-guide-btn {
  background: transparent;
  border: 2px solid #E8CD8E;
  border-radius: 12px;
  padding: 8px 14px;
  display: flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  font-weight: 600;
  color: #8B7355;
  white-space: nowrap;
}

.mood-meter-guide-btn:hover {
  background: #FFF9E6;
  border-color: #D4B87A;
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(139, 115, 85, 0.2);
}

.guide-icon {
  font-size: 16px;
}

.guide-text {
  font-size: 13px;
}

/* 영역 필터 - 팔레트 물감 스타일 */
.area-filter-wrapper {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.filter-label-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: #8B7355;
}

.area-filter-container {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  padding: 8px 12px;
  background: linear-gradient(135deg, #F5F5F5 0%, #E8E8E8 100%);
  border-radius: 20px;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1),
              0 2px 6px rgba(0, 0, 0, 0.05);
}

.area-filter-chip {
  width: 38px;
  height: 38px;
  border: none;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  position: relative;
  background-color: var(--chip-color, #E0E0E0);
  border-radius: 63% 37% 54% 46% / 55% 48% 52% 45%;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2),
              inset 0 1px 3px rgba(255, 255, 255, 0.5),
              inset 0 -2px 4px rgba(0, 0, 0, 0.15);
}

.area-filter-chip::after {
  content: '';
  position: absolute;
  top: 15%;
  left: 20%;
  width: 30%;
  height: 30%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}

.area-filter-chip:hover {
  transform: scale(1.1);
  border-radius: 58% 42% 48% 52% / 62% 44% 56% 38%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25),
              inset 0 1px 4px rgba(255, 255, 255, 0.6),
              inset 0 -3px 6px rgba(0, 0, 0, 0.2);
}

.area-filter-chip:hover::after {
  opacity: 0.8;
}

.area-filter-chip.active {
  transform: scale(1.15);
  border-radius: 61% 39% 52% 48% / 48% 55% 45% 52%;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3),
              inset 0 2px 5px rgba(255, 255, 255, 0.7),
              inset 0 -4px 8px rgba(0, 0, 0, 0.25);
  animation: paint-bounce 0.4s ease;
}

.area-filter-chip.active::after {
  opacity: 1;
  width: 35%;
  height: 35%;
}

/* 전체 필터 - 흰색 */
.area-filter-chip.chip-ALL {
  background-color: #FFFFFF;
}

/* 영역별 컬러 칩 - 귀여운 톤 */
.area-filter-chip.chip-red {
  background-color: #FF6B6B;
}

.area-filter-chip.chip-yellow {
  background-color: #FFC75F;
}

.area-filter-chip.chip-blue {
  background-color: #5DADE2;
}

.area-filter-chip.chip-green {
  background-color: #7ED957;
}

/* 물감 통통 튀는 애니메이션 */
@keyframes paint-bounce {
  0%, 100% {
    transform: scale(1.15);
    border-radius: 61% 39% 52% 48% / 48% 55% 45% 52%;
  }
  25% {
    transform: scale(1.18);
    border-radius: 55% 45% 58% 42% / 52% 48% 52% 48%;
  }
  50% {
    transform: scale(1.2);
    border-radius: 48% 52% 45% 55% / 58% 42% 58% 42%;
  }
  75% {
    transform: scale(1.18);
    border-radius: 52% 48% 51% 49% / 45% 55% 45% 55%;
  }
}

.encyclopedia-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 15px;
  margin-bottom: 20px;
}

.encyclopedia-card {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border: 3px solid #E8CD8E;
  border-radius: 16px;
  padding: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.encyclopedia-card:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  border-color: #D4B87A;
}

.encyclopedia-card.selected {
  border-color: #8B6F47;
  background: linear-gradient(135deg, #FFE9AE 0%, #FFD88A 100%);
  box-shadow: 0 8px 20px rgba(139, 111, 71, 0.3);
}

/* 영역별 카드 스타일 - RED (빨강 영역) */
.encyclopedia-card.card-red {
  background: linear-gradient(135deg, #FFF9F9 0%, #FFF0F0 100%);
  border-color: #FFCDD2;
}

.encyclopedia-card.card-red:hover {
  border-color: #EF9A9A;
}

.encyclopedia-card.card-red.acquired {
  background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
  border-color: #EF5350;
  box-shadow: 0 4px 12px rgba(239, 83, 80, 0.2);
}

.encyclopedia-card.card-red.acquired:hover {
  border-color: #E53935;
  box-shadow: 0 8px 20px rgba(239, 83, 80, 0.35);
}

/* 영역별 카드 스타일 - YELLOW (노랑 영역) */
.encyclopedia-card.card-yellow {
  background: linear-gradient(135deg, #FFFEF7 0%, #FFFBF0 100%);
  border-color: #FFE9AE;
}

.encyclopedia-card.card-yellow:hover {
  border-color: #FFD88A;
}

.encyclopedia-card.card-yellow.acquired {
  background: linear-gradient(135deg, #FFF9E6 0%, #FFECB3 100%);
  border-color: #FFB74D;
  box-shadow: 0 4px 12px rgba(255, 183, 77, 0.2);
}

.encyclopedia-card.card-yellow.acquired:hover {
  border-color: #FFA726;
  box-shadow: 0 8px 20px rgba(255, 183, 77, 0.35);
}

/* 영역별 카드 스타일 - BLUE (파랑 영역) */
.encyclopedia-card.card-blue {
  background: linear-gradient(135deg, #F9FCFF 0%, #F0F7FF 100%);
  border-color: #BBDEFB;
}

.encyclopedia-card.card-blue:hover {
  border-color: #90CAF9;
}

.encyclopedia-card.card-blue.acquired {
  background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
  border-color: #42A5F5;
  box-shadow: 0 4px 12px rgba(66, 165, 245, 0.2);
}

.encyclopedia-card.card-blue.acquired:hover {
  border-color: #2196F3;
  box-shadow: 0 8px 20px rgba(66, 165, 245, 0.35);
}

/* 영역별 카드 스타일 - GREEN (초록 영역) */
.encyclopedia-card.card-green {
  background: linear-gradient(135deg, #F9FFF9 0%, #F1FFF1 100%);
  border-color: #C8E6C9;
}

.encyclopedia-card.card-green:hover {
  border-color: #A5D6A7;
}

.encyclopedia-card.card-green.acquired {
  background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
  border-color: #66BB6A;
  box-shadow: 0 4px 12px rgba(102, 187, 106, 0.2);
}

.encyclopedia-card.card-green.acquired:hover {
  border-color: #4CAF50;
  box-shadow: 0 8px 20px rgba(102, 187, 106, 0.35);
}

.card-image-container {
  width: 100%;
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 8px;
}

.card-flower-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: all 0.3s ease;
}

.card-flower-image.silhouette {
  filter: brightness(0) opacity(0.3);
}

.card-info {
  text-align: center;
}

.card-flower-name {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 2px;
}

.card-emotion-name {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 11px;
  color: #8B7355;
}

.lock-icon {
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 16px;
  opacity: 0.6;
}

/* 도감 상세 정보 */
.encyclopedia-detail {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF8E7 100%);
  border: 3px solid #E8CD8E;
  border-radius: 20px;
  padding: 25px;
  margin-bottom: 30px;
  box-shadow: 0 8px 24px rgba(139, 111, 71, 0.15);
  animation: slideDown 0.3s ease-out;
}

/* 영역별 상세 정보 - RED (빨강 영역) */
.encyclopedia-detail.detail-red {
  background: linear-gradient(135deg, #FFF5F5 0%, #FFEBEE 100%);
  border-color: #EF5350;
  box-shadow: 0 8px 24px rgba(239, 83, 80, 0.2);
}

.encyclopedia-detail.detail-red .detail-title {
  color: #C62828;
}

.encyclopedia-detail.detail-red .detail-subtitle {
  color: #E53935;
}

.encyclopedia-detail.detail-red .detail-label {
  color: #EF5350;
}

/* 영역별 상세 정보 - YELLOW (노랑 영역) */
.encyclopedia-detail.detail-yellow {
  background: linear-gradient(135deg, #FFFEF7 0%, #FFF9E6 100%);
  border-color: #FFB74D;
  box-shadow: 0 8px 24px rgba(255, 183, 77, 0.2);
}

.encyclopedia-detail.detail-yellow .detail-title {
  color: #E65100;
}

.encyclopedia-detail.detail-yellow .detail-subtitle {
  color: #F57C00;
}

.encyclopedia-detail.detail-yellow .detail-label {
  color: #FF9800;
}

/* 영역별 상세 정보 - BLUE (파랑 영역) */
.encyclopedia-detail.detail-blue {
  background: linear-gradient(135deg, #F5F9FF 0%, #E3F2FD 100%);
  border-color: #42A5F5;
  box-shadow: 0 8px 24px rgba(66, 165, 245, 0.2);
}

.encyclopedia-detail.detail-blue .detail-title {
  color: #1565C0;
}

.encyclopedia-detail.detail-blue .detail-subtitle {
  color: #1976D2;
}

.encyclopedia-detail.detail-blue .detail-label {
  color: #2196F3;
}

/* 영역별 상세 정보 - GREEN (초록 영역) */
.encyclopedia-detail.detail-green {
  background: linear-gradient(135deg, #F5FFF5 0%, #E8F5E9 100%);
  border-color: #66BB6A;
  box-shadow: 0 8px 24px rgba(102, 187, 106, 0.2);
}

.encyclopedia-detail.detail-green .detail-title {
  color: #2E7D32;
}

.encyclopedia-detail.detail-green .detail-subtitle {
  color: #388E3C;
}

.encyclopedia-detail.detail-green .detail-label {
  color: #4CAF50;
}

.detail-header {
  text-align: center;
  margin-bottom: 20px;
}

.detail-title {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 28px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 5px;
}

.detail-name-en {
  font-size: 18px;
  font-weight: normal;
  opacity: 0.7;
  margin-left: 8px;
}

.detail-subtitle {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  color: #8B7355;
}

.detail-body {
  display: flex;
  flex-direction: column;
  gap: 20px;
  align-items: center;
}

.detail-image {
  flex: 1;
  max-width: 300px;
}

.detail-flower-image {
  width: 100%;
  height: auto;
  border-radius: 16px;
  /* 수채화 이미지 자체에 그림자가 있어서 box-shadow 제거 */
}

.detail-flower-image.silhouette {
  filter: brightness(0) opacity(0.3);
}

.detail-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* 상세 정보 섹션 (꽃말 그룹, 기본 정보 그룹 등) */
.detail-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 15px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.8);
}


/* 그리드 레이아웃 (색상, 원산지, 향기) */
.detail-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
}

.detail-item {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.detail-item.compact {
  gap: 3px;
}

.detail-label {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #8B6F47;
}

.detail-value {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  color: #5D4E37;
  padding: 8px 10px;
  background: transparent;
  border-radius: 8px;
  /* border-left: 2px solid rgba(232, 205, 142, 0.3); */
}

/* 강조된 값 (꽃말) - 배경 유지 */
.detail-value.highlight {
  font-size: 18px;
  font-weight: bold;
  padding: 12px 15px;
  /* background: rgba(255, 255, 255, 0.5);
  border-left: 3px solid rgba(232, 205, 142, 0.5); */
}

/* 영역별 강조 값 스타일 (주석 처리됨 - 필요시 활성화) */
/*
.encyclopedia-detail.detail-red .detail-value.highlight {
  background: rgba(239, 83, 80, 0.15);
  border-left-color: rgba(239, 83, 80, 0.6);
}

.encyclopedia-detail.detail-yellow .detail-value.highlight {
  background: rgba(255, 183, 77, 0.15);
  border-left-color: rgba(255, 183, 77, 0.6);
}

.encyclopedia-detail.detail-blue .detail-value.highlight {
  background: rgba(66, 165, 245, 0.15);
  border-left-color: rgba(66, 165, 245, 0.6);
}

.encyclopedia-detail.detail-green .detail-value.highlight {
  background: rgba(102, 187, 106, 0.15);
  border-left-color: rgba(102, 187, 106, 0.6);
}
*/

/* 긴 텍스트(유래, 재미있는 사실) 스타일 */
.detail-value.story {
  font-size: 14px;
  line-height: 1.6;
  max-height: 200px;
  overflow-y: auto;
  white-space: pre-line;
}

/* compact 버전의 detail-item */
.detail-item.compact .detail-label {
  font-size: 12px;
}

.detail-item.compact .detail-value {
  font-size: 14px;
  padding: 6px 8px;
  /* border-left-width: 2px;
  background: rgba(255, 255, 255, 0.3); */
}

.not-acquired-message {
  margin-top: 15px;
  padding: 15px;
  background: rgba(255, 193, 7, 0.1);
  border: 2px dashed #FFC107;
  border-radius: 12px;
  text-align: center;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #F57C00;
  font-weight: bold;
}

/* 영역별 미획득 메시지 스타일 */
.encyclopedia-detail.detail-red .not-acquired-message {
  background: rgba(239, 83, 80, 0.1);
  border-color: #EF5350;
  color: #C62828;
}

.encyclopedia-detail.detail-yellow .not-acquired-message {
  background: rgba(255, 183, 77, 0.1);
  border-color: #FFB74D;
  color: #E65100;
}

.encyclopedia-detail.detail-blue .not-acquired-message {
  background: rgba(66, 165, 245, 0.1);
  border-color: #42A5F5;
  color: #1565C0;
}

.encyclopedia-detail.detail-green .not-acquired-message {
  background: rgba(102, 187, 106, 0.1);
  border-color: #66BB6A;
  color: #2E7D32;
}

/* ============================================
   15. 애니메이션
============================================ */

@keyframes moveDots1 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(50px, 50px);
  }
}

@keyframes moveDots2 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(-60px, 60px);
  }
}

@keyframes moveDots3 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(70px, -70px);
  }
}

@keyframes moveDots4 {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(-45px, -45px);
  }
}

@keyframes titleBounce {
  0%, 100% {
    transform: translateX(-50%) translateY(0px);
  }
  50% {
    transform: translateX(-50%) translateY(-5px);
  }
}

@keyframes wateringShake {
  0%, 100% {
    transform: translateY(-50%) rotate(-10deg);
  }
  25% {
    transform: translateY(-50%) rotate(-20deg);
  }
  75% {
    transform: translateY(-50%) rotate(0deg);
  }
}

@keyframes dropFall {
  0% {
    opacity: 1;
    transform: translateY(0) rotate(0deg);
  }
  100% {
    opacity: 0;
    transform: translateY(100vh) rotate(360deg);
  }
}

@keyframes modalSlideIn {
  from {
    transform: translateY(-50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes alertBounce {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes flowerBounce {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-20px) scale(1.1);
  }
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes letterboxShake {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: rotate(-3deg);
  }
  20%, 40%, 60%, 80% {
    transform: rotate(3deg);
  }
}

@keyframes badgePulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.9;
  }
}

/* ============================================
   16. 모바일 반응형
============================================ */

/* 모바일 최적화 */
@media (max-width: 480px) {
  .page-title {
    font-size: 36px;
  }

  .encyclopedia-grid {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 10px;
  }

  /* 필터 칩 - 모바일 */
  .area-filter-wrapper {
    gap: 8px;
    flex-wrap: wrap;
  }

  .filter-label-text {
    font-size: 13px;
  }

  .area-filter-container {
    gap: 10px;
    padding: 6px 10px;
  }

  .area-filter-chip {
    width: 34px;
    height: 34px;
  }

  .area-filter-chip::after {
    width: 28%;
    height: 28%;
  }

  .area-filter-chip.active::after {
    width: 32%;
    height: 32%;
  }

  /* 헤더 버튼 - 모바일 */
  .mood-meter-guide-btn {
    padding: 6px 10px;
    font-size: 11px;
  }

  .guide-icon {
    font-size: 14px;
  }

  .guide-text {
    font-size: 11px;
  }

  .detail-image {
    max-width: 100%;
  }

  .flower-image {
    max-width: 50px;
  }

  .empty-slot {
    max-width: 40px;
    max-height: 40px;
    font-size: 20px;
  }

  .trowel {
    width: 40px;
    height: 40px;
    transform: translate(15%, -120%) rotate(-25deg) scaleX(-1);
  }

  .stats-title {
    font-size: 18px;
  }

  .stat-icon {
    font-size: 32px;
  }

  .stat-name {
    font-size: 14px;
  }

  /* 모바일에서 일기장 크기 조정 */
  .modal-content {
    height: 550px;
    padding: 10px 30px 20px 50px;
  }

  .modal-header h2 {
    font-size: 24px;
  }

  .diary-content {
    font-size: 18px;
    min-height: 300px;
  }

  .diary-form textarea {
    font-size: 18px;
    min-height: 250px;
  }

  .loading-text {
    font-size: 20px;
  }

  .alert-message {
    font-size: 20px;
  }

  /* 모바일 툴팁 크기 조정 */
  .tooltip-card {
    min-width: 120px;
    padding: 8px 10px;
  }

  .tooltip-flower-name {
    font-size: 16px;
    margin-bottom: 4px;
  }

  .tooltip-meaning {
    font-size: 11px;
    margin-bottom: 4px;
  }

  .tooltip-date {
    font-size: 11px;
  }

  .tooltip-emotion {
    font-size: 10px;
    padding: 2px 6px;
  }
}

/* ============================================
   17. 사이드바 메뉴
============================================ */

/* 사이드바 컨테이너 */
.sidebar-container {
  border-top-right-radius: 20px;
  border-bottom-right-radius: 20px;
  overflow: hidden;
  background-color: white;
  border-left: 4px solid #F4E4C1;
}

/* 사이드바 헤더 */
.sidebar-header {
  background: linear-gradient(135deg, #F4E4C1 0%, #E8D5B5 100%);
}

/* 사이드바 타이틀 */
.sidebar-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  color: #8B6F47;
}

/* 사이드바 푸터 */
.sidebar-footer {
  background: #F9F6F0;
}

.footer-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  color: #A68B6A;
}

/* 메뉴 아이템 스타일 */
.menu-item {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  border-radius: 12px;
  background-color: transparent;
  border: none;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

.menu-item:hover {
  background: #F9F6F0;
  transform: translateX(3px);
}

.menu-item.active {
  background: linear-gradient(135deg, #F4E4C1 0%, #E8D5B5 100%);
}

.menu-item:hover .menu-icon {
  color: #8B6F47;
  transform: scale(1.05);
  transition: all 0.2s ease;
}

.menu-item:hover .menu-text {
  color: #8B6F47;
}

.menu-icon {
  color: #A68B6A;
  transition: all 0.2s ease;
}

.menu-text {
  color: #5D4E37;
  transition: color 0.2s ease;
}

.menu-item.active .menu-icon {
  color: #8B6F47;
}

.menu-item.active .menu-text {
  color: #8B6F47;
  font-weight: 700;
}

.badge-text {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 0.7rem;
  background: #8B6F47;
  color: white;
  padding: 4px 10px;
  border-radius: 10px;
  font-weight: 600;
}

/* 사이드바 애니메이션 */
/* 페이드 애니메이션 (오버레이) */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* 슬라이드 애니메이션 (사이드바) */
.slide-enter-active,
.slide-leave-active {
  transition: transform 0.3s ease;
}

.slide-enter-from,
.slide-leave-to {
  transform: translateX(-100%);
}

/* ============================================
   18. 감정 레터 관련
============================================ */

/* 레터 필터 */
.letter-filter {
  display: flex;
  gap: 10px;
  margin-bottom: 25px;
  flex-wrap: wrap;
}

.filter-btn {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  padding: 8px 16px;
  background: #F9F6F0;
  border: 2px solid #E8CD8E;
  border-radius: 20px;
  font-size: 14px;
  color: #8B6F47;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 600;
}

.filter-btn:hover {
  background: #F4E4C1;
  transform: translateY(-1px);
}

.filter-btn.active {
  background: linear-gradient(135deg, #8B6F47 0%, #6B5437 100%);
  color: white;
  border-color: #8B6F47;
}

/* 레터 목록 */
.letter-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
  height: 500px;
  overflow-y: auto;
  padding-right: 5px;
}

.letter-item {
  display: flex;
  gap: 15px;
  padding: 20px;
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border: 2px solid #E8CD8E;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.letter-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(139, 111, 71, 0.2);
  border-color: #D4B87A;
}

.letter-item.unread {
  background: linear-gradient(135deg, #FFF9E6 0%, #FFECB3 100%);
  border-color: #FFB74D;
  box-shadow: 0 2px 8px rgba(255, 183, 77, 0.2);
}

.letter-icon {
  position: relative;
  flex-shrink: 0;
}

.letterbox-icon {
  width: 60px;
  height: 60px;
  object-fit: contain;
}

.unread-badge {
  position: absolute;
  top: -5px;
  right: -5px;
  background: #FF6B6B;
  color: white;
  font-size: 10px;
  font-weight: 700;
  padding: 2px 6px;
  border-radius: 8px;
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.letter-info {
  flex: 1;
  min-width: 0;
}

.letter-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 8px;
  gap: 10px;
}

.letter-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #8B6F47;
  margin: 0;
}

.letter-date {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #A68B6A;
  flex-shrink: 0;
}

.letter-preview {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #5D4E37;
  line-height: 1.6;
  margin: 0 0 10px 0;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.letter-meta {
  display: flex;
  gap: 15px;
  font-size: 12px;
  color: #A68B6A;
}

.letter-period,
.letter-emotion-count {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

/* 빈 상태 */
.empty-state {
  text-align: center;
  padding: 60px 20px;
}

.empty-icon {
  font-size: 80px;
  margin-bottom: 20px;
}

.empty-message {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  color: #8B6F47;
  margin: 0 0 10px 0;
  font-weight: 700;
}

.empty-sub {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #A68B6A;
  margin: 0;
  line-height: 1.6;
}

/* 레터 상세 */
.letter-detail-content {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.letter-section {
  margin-bottom: 30px;
  padding-bottom: 25px;
  border-bottom: 1px solid #F0E8D8;
}

.letter-section:last-child {
  border-bottom: none;
}

.section-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 15px;
}

/* 인사말 */
.greeting {
  text-align: center;
  padding: 25px;
  background: linear-gradient(135deg, #FFF9E6 0%, #FFECB3 100%);
  border-radius: 12px;
  border: 2px solid #FFE082;
}

.greeting-icon {
  font-size: 40px;
  margin-bottom: 15px;
}

.greeting-text {
  font-size: 16px;
  color: #5D4E37;
  line-height: 1.8;
  margin: 0;
}

/* 감정 차트 */
.emotion-chart {
  max-width: 300px;
  margin: 0 auto 20px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.chart-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
}

.legend-color {
  width: 16px;
  height: 16px;
  border-radius: 4px;
  flex-shrink: 0;
}

.legend-text {
  color: #5D4E37;
}

/* 분석 내용 */
.analysis-content {
  background: #F9F6F0;
  padding: 20px;
  border-radius: 10px;
  border-left: 4px solid #8B6F47;
}

.analysis-content p {
  font-size: 15px;
  color: #5D4E37;
  line-height: 1.8;
  margin: 0;
}

/* 하이라이트 */
/* 이번 주의 꽃 (메인 하이라이트) */
.highlight-main {
  margin-bottom: 20px;
}

.flower-of-week {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 25px;
  background: linear-gradient(135deg, #FFF9E6 0%, #FFECB3 100%);
  border: 3px solid #FFE082;
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(255, 224, 130, 0.3);
}

.flower-of-week-image {
  flex-shrink: 0;
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.flower-of-week-image img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
}

.flower-of-week-info {
  flex: 1;
}

.flower-of-week-title {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #A68B6A;
  margin-bottom: 8px;
}

.flower-of-week-name {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 24px;
  font-weight: 700;
  color: #8B6F47;
  margin-bottom: 6px;
}

.flower-of-week-emotion {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  color: #5D4E37;
  margin-bottom: 8px;
}

.flower-of-week-meaning {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B7355;
  font-style: italic;
}

/* 통계 그리드 */
.highlight-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.stat-item {
  text-align: center;
  padding: 20px 15px;
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF8E7 100%);
  border: 2px solid #E8CD8E;
  border-radius: 12px;
  transition: all 0.2s ease;
}

.stat-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(232, 205, 142, 0.3);
}

.stat-icon {
  font-size: 32px;
  margin-bottom: 10px;
}

.stat-label {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #A68B6A;
  margin-bottom: 6px;
}

.stat-value {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #8B6F47;
}

.stat-value.stat-area {
  font-size: 14px;
  line-height: 1.4;
}

/* 정원 평가 */
.garden-score {
  padding: 20px;
  background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
  border: 2px solid #81C784;
  border-radius: 12px;
}

.score-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 12px;
}

.score-icon {
  font-size: 40px;
  flex-shrink: 0;
}

.score-info {
  flex: 1;
}

.score-level {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #2E7D32;
  margin-bottom: 4px;
}

.score-point {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  color: #388E3C;
}

.score-description {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #1B5E20;
  line-height: 1.8;
}

/* 일주일 치 감정 - 꽃 영역 */
.week-flowers-section {
  background: linear-gradient(135deg, #FFF9E6 0%, #FFF4E0 100%);
  padding: 20px;
  border-radius: 12px;
  border: 2px solid #FFE082;
}

.weekly-calendar {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  margin-top: 15px;
}

.calendar-day {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.day-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
}

.day-date {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 12px;
  color: #A68B6A;
  font-weight: 600;
}

.day-name {
  font-family: 'Cafe24Ssurround', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B6F47;
  font-weight: 700;
}

.day-flower {
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.5);
  padding: 5px;
}

.flower-pot-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.15));
}

.day-emotion {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 11px;
  color: #5D4E37;
  text-align: center;
  line-height: 1.3;
  max-width: 60px;
  word-break: keep-all;
}

/* 꽃 툴팁 */
.flower-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.flower-wrapper:hover {
  transform: scale(1.1);
}

.flower-tooltip {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(10px);
  margin-bottom: 10px;
  opacity: 0;
  pointer-events: none;
  z-index: 1000;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.flower-wrapper:hover .flower-tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.flower-tooltip-card {
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
  border: 3px solid #E8CD8E;
  border-radius: 12px;
  padding: 10px 14px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  text-align: center;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  min-width: 140px;
  position: relative;
}

.flower-tooltip-card::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid #E8CD8E;
}

.flower-tooltip-name {
  font-size: 16px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 6px;
}

.flower-tooltip-meaning {
  font-size: 12px;
  color: #8B7355;
  margin-bottom: 6px;
  line-height: 1.4;
}

.flower-tooltip-emotion {
  font-size: 12px;
  color: #5D4E37;
  background: rgba(232, 205, 142, 0.3);
  padding: 2px 10px;
  border-radius: 10px;
  display: inline-block;
  margin-top: 4px;
}

/* 감정 정원사의 편지 */
.gardener-letter {
  border: none !important;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

.letter-paper {
  background:
    linear-gradient(135deg, #FFFBF0 0%, #FFF8E7 100%);
  border: 2px solid #E8CD8E;
  border-radius: 12px;
  padding: 30px;
  box-shadow:
    inset 0 0 60px rgba(232, 205, 142, 0.1),
    0 4px 12px rgba(0, 0, 0, 0.08);
  position: relative;
}

/* 편지지 질감 효과 */
.letter-paper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 24px,
      rgba(232, 205, 142, 0.05) 24px,
      rgba(232, 205, 142, 0.05) 25px
    );
  pointer-events: none;
  border-radius: 12px;
}

.letter-content {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  color: #5D4E37;
  line-height: 2;
  margin: 0 0 25px 0;
  white-space: pre-line;
  position: relative;
  z-index: 1;
}

/* 서명 */
.letter-signature {
  text-align: right;
  padding-top: 15px;
  border-top: 1px solid rgba(232, 205, 142, 0.3);
  position: relative;
  z-index: 1;
}

.signature-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #8B6F47;
  margin: 0 0 5px 0;
  font-weight: 700;
  font-style: italic;
}

.signature-date {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #A68B6A;
  margin: 0;
}

/* 모바일 반응형 */
@media (max-width: 640px) {
  .letter-item {
    flex-direction: column;
    align-items: flex-start;
  }

  .letterbox-icon {
    width: 50px;
    height: 50px;
  }

  /* 하이라이트 모바일 */
  .flower-of-week {
    flex-direction: column;
    text-align: center;
    padding: 20px;
    gap: 15px;
  }

  .flower-of-week-image {
    width: 80px;
    height: 80px;
  }

  .flower-of-week-name {
    font-size: 20px;
  }

  .flower-of-week-emotion {
    font-size: 14px;
  }

  .flower-of-week-meaning {
    font-size: 13px;
  }

  .highlight-stats {
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .stat-item {
    padding: 15px;
  }

  .stat-icon {
    font-size: 28px;
  }

  .stat-value {
    font-size: 16px;
  }

  .score-header {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }

  .score-icon {
    font-size: 36px;
  }

  .score-level {
    font-size: 18px;
  }

  .score-point {
    font-size: 14px;
  }

  .score-description {
    font-size: 14px;
  }

  /* 일주일 꽃 영역 모바일 */
  .weekly-calendar {
    gap: 5px;
    row-gap: 25px;
    grid-template-columns: repeat(4, 2fr);
  }

  .day-flower {
    width: 45px;
    height: 45px;
  }

  .day-date {
    font-size: 10px;
  }

  .day-name {
    font-size: 12px;
  }

  .day-emotion {
    font-size: 10px;
    max-width: 45px;
  }

  /* 꽃 툴팁 모바일 */
  .flower-tooltip-card {
    min-width: 120px;
    padding: 8px 12px;
  }

  .flower-tooltip-name {
    font-size: 14px;
  }

  .flower-tooltip-meaning {
    font-size: 11px;
  }

  .flower-tooltip-emotion {
    font-size: 11px;
  }

  /* 편지 영역 모바일 */
  .letter-paper {
    padding: 20px;
  }

  .letter-content {
    font-size: 14px;
    line-height: 1.8;
  }

  .signature-text {
    font-size: 14px;
  }

  .signature-date {
    font-size: 12px;
  }
}

/* ============================================
   Landing Page Styles
============================================ */
.landing-container {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF4E0 100%);
}

.landing-content {
  position: relative;
  z-index: 10;
  width: 100%;
  max-width: 500px;
  padding: 40px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 40px;
}

.logo-section {
  text-align: center;
}

.logo-placeholder {
  width: 120px;
  height: 120px;
  margin: 0 auto 20px;
  background: linear-gradient(135deg, #FFE9AE 0%, #FFD88A 100%);
  border: 4px solid #E8CD8E;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 24px rgba(232, 205, 142, 0.4);
  animation: float 3s ease-in-out infinite;
}

.logo-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.service-title {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 42px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 8px;
}

.service-subtitle {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  color: #8B7355;
  font-weight: 500;
}

.intro-section {
  text-align: center;
  padding: 30px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 20px;
  border: 2px solid rgba(232, 205, 142, 0.3);
  backdrop-filter: blur(10px);
}

.intro-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  line-height: 1.8;
  color: #5D4E37;
  font-weight: 500;
}

.action-section {
  display: flex;
  flex-direction: column;
  gap: 15px;
  width: 100%;
  max-width: 350px;
}

.landing-container .login-btn {
  width: 100%;
  padding: 18px 30px;
  background: linear-gradient(135deg, #FFE9AE 0%, #FFD88A 100%);
  border: 3px solid #E8CD8E;
  border-radius: 16px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 18px;
  font-weight: bold;
  color: #5D4E37;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  box-shadow: 0 6px 16px rgba(232, 205, 142, 0.3);
}

.landing-container .login-btn:hover {
  background: linear-gradient(135deg, #FFD88A 0%, #FFC95A 100%);
  border-color: #D4B87A;
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(232, 205, 142, 0.5);
}

.landing-container .login-btn:active {
  transform: translateY(0);
}

.btn-icon {
  font-size: 22px;
}

.btn-text {
  font-size: 18px;
}

.about-btn {
  width: 100%;
  padding: 15px 30px;
  background: rgba(255, 255, 255, 0.5);
  border: 2px solid #E8CD8E;
  border-radius: 14px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: #8B7355;
  cursor: pointer;
  transition: all 0.3s ease;
}

.about-btn:hover {
  background: rgba(255, 255, 255, 0.8);
  border-color: #D4B87A;
  color: #5D4E37;
  transform: translateY(-1px);
}

.landing-footer {
  text-align: center;
  margin-top: 20px;
}

.footer-text {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #A68B6A;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* ============================================
   Login Modal Styles
============================================ */
.login-modal-header {
  width: 100%;
  text-align: left;
}

.login-modal-title {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 28px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 8px;
}

.login-modal-subtitle {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B7355;
  font-weight: 500;
}

.login-modal-form {
  margin-top: 20px;
}

.form-group {
  margin-bottom: 20px;
}

.form-label {
  display: block;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  font-weight: 600;
  color: #5D4E37;
  margin-bottom: 8px;
}

.form-input {
  width: 100%;
  padding: 14px 16px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #5D4E37;
  background: rgba(255, 255, 255, 0.9);
  border: 2px solid #E8CD8E;
  border-radius: 12px;
  transition: all 0.3s ease;
  box-sizing: border-box;
}

.form-input:focus {
  outline: none;
  border-color: #D4B87A;
  background: #FFFFFF;
  box-shadow: 0 0 0 4px rgba(232, 205, 142, 0.2);
}

.form-input::placeholder {
  color: #C4B5A0;
}

.error-message {
  padding: 12px 16px;
  background: rgba(255, 107, 107, 0.1);
  border: 2px solid #FF6B6B;
  border-radius: 12px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #C62828;
  text-align: center;
  margin-bottom: 20px;
}

.login-modal-btn {
  width: 100%;
  padding: 16px;
  background: #8B6F47;
  border: none;
  border-radius: 14px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 17px;
  font-weight: bold;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.login-modal-btn:hover:not(:disabled) {
  background: #6F5835;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
}

.login-modal-btn:active:not(:disabled) {
  transform: translateY(0);
}

.login-modal-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.test-login-btn {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  background: rgba(255, 255, 255, 0.5);
  border: 2px solid #E8CD8E;
  border-radius: 14px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  font-weight: 600;
  color: #8B7355;
  cursor: pointer;
  transition: all 0.3s ease;
}

.test-login-btn:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.8);
  border-color: #D4B87A;
  color: #5D4E37;
  transform: translateY(-1px);
}

.test-login-btn:active:not(:disabled) {
  transform: translateY(0);
}

.test-login-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ============================================
   About Modal Styles
============================================ */
.about-section {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

.feature-item {
  display: flex;
  gap: 20px;
  padding: 20px;
  background: linear-gradient(135deg, #FFFBF0 0%, #FFF8E7 100%);
  border-radius: 16px;
  border: 2px solid rgba(232, 205, 142, 0.3);
  transition: all 0.3s ease;
}

.feature-item:hover {
  border-color: #E8CD8E;
  box-shadow: 0 4px 12px rgba(232, 205, 142, 0.2);
  transform: translateY(-2px);
}

.feature-icon {
  font-size: 40px;
  flex-shrink: 0;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #FFE9AE 0%, #FFD88A 100%);
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(232, 205, 142, 0.3);
}

.feature-content {
  flex: 1;
}

.feature-title {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 20px;
  font-weight: bold;
  color: #5D4E37;
  margin-bottom: 8px;
}

.feature-desc {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #8B7355;
}

.about-footer {
  margin-top: 30px;
  padding: 20px;
  background: linear-gradient(135deg, #FFE9AE 0%, #FFD88A 100%);
  border-radius: 16px;
  text-align: center;
}

.footer-message {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  line-height: 1.8;
  color: #5D4E37;
  font-weight: 600;
}

/* About Modal의 confirm-btn은 사용하지 않음 (제거됨) */

/* ============================================
   Responsive - Landing, Login Modal & About Modal
============================================ */
@media (max-width: 480px) {
  /* Landing Page */
  .service-title {
    font-size: 36px;
  }

  .service-subtitle {
    font-size: 16px;
  }

  .logo-placeholder {
    width: 100px;
    height: 100px;
  }

  .logo-image {
    width: 100%;
    height: 100%;
  }

  .intro-text {
    font-size: 16px;
  }

  .landing-container .login-btn {
    padding: 16px 24px;
    font-size: 16px;
  }

  .about-btn {
    padding: 14px 24px;
    font-size: 15px;
  }

  /* Login Modal */
  .login-modal-title {
    font-size: 24px;
  }

  .login-modal-subtitle {
    font-size: 13px;
  }

  .form-input {
    padding: 12px 14px;
    font-size: 14px;
  }

  .login-modal-btn {
    padding: 14px;
    font-size: 16px;
  }

  /* About Modal */
  .feature-item {
    flex-direction: column;
    gap: 15px;
    padding: 15px;
  }

  .feature-icon {
    font-size: 35px;
    width: 55px;
    height: 55px;
    margin: 0 auto;
  }

  .feature-content {
    text-align: center;
  }

  .feature-title {
    font-size: 18px;
  }

  .feature-desc {
    font-size: 13px;
  }
}

/* ============================================
   EmotionContinuousToast 컴포넌트 스타일
   (src/components/common/EmotionContinuousToast.vue)
   ============================================ */

.emotion-toast-container {
  position: fixed;
  bottom: 90px;
  right: 30px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 10px;
  pointer-events: auto;
}

/* 말풍선 */
.speech-bubble {
  position: relative;
  background: white;
  border-radius: 20px;
  padding: 20px 24px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  max-width: 320px;
  border: 2px solid #E8CD8E;
}

/* 영역별 말풍선 색상 */
.speech-bubble.area-red {
  border-color: rgba(239, 68, 68, 0.5);
  background: linear-gradient(135deg, #ffffff 0%, rgba(254, 226, 226, 0.3) 100%);
}

.speech-bubble.area-yellow {
  border-color: rgba(234, 179, 8, 0.5);
  background: linear-gradient(135deg, #ffffff 0%, rgba(254, 249, 195, 0.3) 100%);
}

.speech-bubble.area-blue {
  border-color: rgba(59, 130, 246, 0.5);
  background: linear-gradient(135deg, #ffffff 0%, rgba(219, 234, 254, 0.3) 100%);
}

.speech-bubble.area-green {
  border-color: rgba(34, 197, 94, 0.5);
  background: linear-gradient(135deg, #ffffff 0%, rgba(220, 252, 231, 0.3) 100%);
}

/* 말풍선 꼬리 (물뿌리개를 향하도록) */
.speech-bubble::after {
  content: '';
  position: absolute;
  bottom: -12px;
  right: 40px;
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 12px 12px 0 12px;
  border-color: white transparent transparent transparent;
  filter: drop-shadow(0 3px 2px rgba(0, 0, 0, 0.1));
}

.speech-bubble::before {
  content: '';
  position: absolute;
  bottom: -16px;
  right: 38px;
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 14px 14px 0 14px;
  border-color: inherit;
  z-index: -1;
}

.toast-confirm-btn {
  width: 100%;
  padding: 10px 16px;
  margin-top: 12px;
  background: #8B6F47;
  color: white;
  border: none;
  border-radius: 10px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.toast-confirm-btn:hover {
  background: #6F5835;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}

/* 영역별 버튼 색상 */
.speech-bubble.area-red .toast-confirm-btn {
  background: rgb(220, 38, 38);
}

.speech-bubble.area-red .toast-confirm-btn:hover {
  background: rgb(185, 28, 28);
}

.speech-bubble.area-yellow .toast-confirm-btn {
  background: rgb(202, 138, 4);
}

.speech-bubble.area-yellow .toast-confirm-btn:hover {
  background: rgb(161, 98, 7);
}

.speech-bubble.area-blue .toast-confirm-btn {
  background: rgb(37, 99, 235);
}

.speech-bubble.area-blue .toast-confirm-btn:hover {
  background: rgb(29, 78, 216);
}

.speech-bubble.area-green .toast-confirm-btn {
  background: rgb(21, 128, 61);
}

.speech-bubble.area-green .toast-confirm-btn:hover {
  background: rgb(22, 101, 52);
}

.toast-content {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.toast-emotion {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  color: #2D3748;
}

.emotion-icon {
  font-size: 24px;
}

.emotion-text strong {
  color: #FF6B6B;
  font-weight: 700;
}

.toast-suggestion {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: #FFF9E6;
  border-radius: 12px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #2D3748;
  border: 1px solid #E8CD8E;
}

.activity-icon {
  font-size: 20px;
}

.activity-text {
  font-weight: 600;
  color: #8B7355;
}

/* 물뿌리개 */
.watering-can {
  display: flex;
  justify-content: flex-end;
  padding-right: 20px;
  animation: gentle-bounce 2s ease-in-out infinite;
}

.watering-can-image {
  width: 80px;
  height: auto;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
}

/* 애니메이션 */
@keyframes gentle-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

/* 슬라이드 인/아웃 애니메이션 */
.slide-toast-enter-active {
  animation: slide-in-right 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.slide-toast-leave-active {
  animation: slide-out-right 0.4s ease-in-out;
}

@keyframes slide-in-right {
  from {
    transform: translateX(120%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-out-right {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(120%);
    opacity: 0;
  }
}

/* EmotionContinuousToast 모바일 최적화 */
@media (max-width: 480px) {
  .emotion-toast-container {
    right: 20px;
    left: 20px;
  }

  .speech-bubble {
    max-width: 100%;
    padding: 16px 20px;
  }

  .toast-emotion {
    font-size: 14px;
  }

  .emotion-icon {
    font-size: 20px;
  }

  .toast-suggestion {
    font-size: 13px;
    padding: 10px 14px;
  }

  .activity-icon {
    font-size: 18px;
  }

  .watering-can-image {
    width: 60px;
  }

  .speech-bubble::after {
    right: 30px;
  }

  .speech-bubble::before {
    right: 28px;
  }
}

/* ============================================
   EmotionControlModal 컴포넌트 스타일
   (src/components/common/modals/EmotionControlModal.vue)
   ============================================ */

/* 감정 제어 모달은 다른 모달들보다 낮은 z-index (다른 모달 뒤에 표시) */
.emotion-control-modal-overlay {
  z-index: 900 !important;
}

.emotion-control-header {
  text-align: left;
}

.emotion-control-subtitle {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 14px;
  color: #8B7355;
  margin-top: 8px;
}

.emotion-control-notice {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 13px;
  color: #8B6F47;
  margin-top: 12px;
  padding: 10px 14px;
  background: rgba(232, 205, 142, 0.15);
  border-radius: 8px;
  border: 1px solid rgba(232, 205, 142, 0.3);
}

.emotion-control-content {
  padding: 10px 0;
}

/* 영역별 그룹 컨테이너 */
.emotion-areas {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.emotion-area {
  border-radius: 12px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.5);
}

.area-title {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 16px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

.area-icon {
  font-size: 24px;
}

.area-name {
  font-size: 18px;
  font-weight: bold;
  color: #2D3748;
}

.area-desc {
  font-size: 13px;
  color: #718096;
  margin-left: auto;
}

.area-activities {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

/* 영역별 색상 */
.red-area {
  border: 2px solid rgba(239, 68, 68, 0.2);
  background: rgba(254, 226, 226, 0.3);
}

.yellow-area {
  border: 2px solid rgba(234, 179, 8, 0.2);
  background: rgba(254, 249, 195, 0.3);
}

.blue-area {
  border: 2px solid rgba(59, 130, 246, 0.2);
  background: rgba(219, 234, 254, 0.3);
}

.green-area {
  border: 2px solid rgba(34, 197, 94, 0.2);
  background: rgba(220, 252, 231, 0.3);
}

.activity-card {
  position: relative;
  padding: 24px 16px;
  border: 2px solid #E5E7EB;
  border-radius: 12px;
  transition: all 0.3s ease;
  background: white;
  text-align: center;
  min-height: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  overflow: hidden;
}

.activity-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* 호버 시 설명 표시 */
.activity-card .activity-description {
  max-height: 100px;
  opacity: 1;
  margin-top: 12px;
}

/* 영역별 카드 색상 */
.activity-card.red {
  border-color: rgba(239, 68, 68, 0.3);
}

.activity-card.red:hover {
  border-color: rgba(239, 68, 68, 0.6);
  background: rgba(254, 226, 226, 0.5);
}

.activity-card.yellow {
  border-color: rgba(234, 179, 8, 0.3);
}

.activity-card.yellow:hover {
  border-color: rgba(234, 179, 8, 0.6);
  background: rgba(254, 249, 195, 0.5);
}

.activity-card.blue {
  border-color: rgba(59, 130, 246, 0.3);
}

.activity-card.blue:hover {
  border-color: rgba(59, 130, 246, 0.6);
  background: rgba(219, 234, 254, 0.5);
}

.activity-card.green {
  border-color: rgba(34, 197, 94, 0.3);
}

.activity-card.green:hover {
  border-color: rgba(34, 197, 94, 0.6);
  background: rgba(220, 252, 231, 0.5);
}

.activity-icon {
  font-size: 36px;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 80px;
}

.activity-icon img {
  width: 80px;
  height: 80px;
  object-fit: contain;
}

.activity-name {
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #2D3748;
  margin-bottom: 8px;
}

.activity-description {
  font-size: 12px;
  color: #718096;
  line-height: 1.5;
}

.check-icon {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 28px;
  height: 28px;
  background: #8B6F47;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 18px;
  font-weight: bold;
  animation: check-bounce 0.4s ease;
}

@keyframes check-bounce {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

.first-time-notice {
  padding: 16px;
  background: #FFF9E6;
  border: 1px solid #E8CD8E;
  border-radius: 12px;
  text-align: center;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  color: #8B7355;
  font-size: 14px;
}

.emotion-control-footer {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
}

.emotion-control-footer .cancel-btn,
.emotion-control-footer .save-btn {
  padding: 12px 24px;
  border-radius: 12px;
  font-family: 'LeeSeoyun', -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  border: none;
}

.emotion-control-footer .cancel-btn {
  background: transparent;
  color: #8B7355;
  border: 2px solid #E8CD8E;
}

.emotion-control-footer .cancel-btn:hover {
  background: #FFF9E6;
  border-color: #D4B87A;
}

.emotion-control-footer .save-btn {
  background: #8B6F47;
  color: white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.emotion-control-footer .save-btn:hover:not(:disabled) {
  background: #6F5835;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.25);
}

.emotion-control-footer .save-btn:disabled {
  background: #D1D5DB;
  cursor: not-allowed;
  box-shadow: none;
}

/* EmotionControlModal 모바일 최적화 */
@media (max-width: 480px) {
  /* 모바일 모달 높이 및 너비 조정 */
  .base-modal-content {
    max-height: 90vh; /* fallback */
    max-height: 90dvh; /* 모바일 브라우저 UI 고려 */
    width: 96%; /* 양옆 여백 최소화 */
  }

  .base-modal-body {
    max-height: calc(90vh - 80px); /* fallback */
    max-height: calc(90dvh - 80px); /* 모바일 브라우저 UI 고려 */
  }

  /* 모든 모달 너비 최대화 */
  .modal-content,
  .flip-card-container,
  .date-picker-content,
  .letter-notification-content,
  .image-preview-content,
  .mood-meter-content,
  .letterbox-content,
  .letterbox-modal-content {
    width: 96%; /* 양옆 여백 최소화 */
  }

  .activities-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .activity-card {
    padding: 28px 16px;
    min-height: 240px;
  }

  .activity-icon {
    font-size: 40px;
    min-height: 100px;
  }

  .activity-icon img {
    width: 100px;
    height: 100px;
  }

  .activity-name {
    font-size: 15px;
  }

  .activity-description {
    font-size: 11px;
  }
}

/* ============================================
   이미지 로딩 - 스켈레톤 UI
============================================ */

/* LazyImage 래퍼 */
.lazy-image-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.flower-grid .lazy-image-wrapper {
  align-items: end;
}

/* LazyImage 내부 이미지 */
.lazy-image-wrapper img {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

.lazy-image-wrapper img.image-loaded {
  opacity: 1;
}

.lazy-image-wrapper img.image-loaded.opacity3 {
  opacity: 0.3;
}

/* FlowerSkeleton 기본 스타일 */
.flower-skeleton {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    135deg,
    rgba(255, 182, 193, 0.1) 0%,
    rgba(255, 218, 185, 0.1) 25%,
    rgba(232, 205, 142, 0.1) 50%,
    rgba(184, 168, 216, 0.1) 75%,
    rgba(255, 182, 193, 0.1) 100%
  );
  border-radius: 8px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

/* 꽃 실루엣 SVG */
.flower-silhouette {
  width: 70%;
  height: 70%;
  opacity: 0.3;
  z-index: 1;
}

.flower-petal {
  fill: url(#petalGradient);
}

.flower-center {
  fill: url(#centerGradient);
}

/* SVG 그라데이션 정의는 인라인으로 처리하기 위해 꽃잎과 중앙에 단색 적용 */
.flower-petal {
  fill: rgba(232, 205, 142, 0.4);
}

.flower-center {
  fill: rgba(232, 205, 142, 0.5);
}

/* Shimmer 애니메이션 */
.skeleton-shimmer {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.5) 50%,
    transparent 100%
  );
  animation: shimmer 2s infinite;
  z-index: 2;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* 타입별 스켈레톤 스타일 */

/* default: 화단 꽃 이미지용 */
.skeleton-default {
  aspect-ratio: 1 / 1;
  border-radius: 50%;
}

/* card: 도감 카드용 */
.skeleton-card {
  aspect-ratio: 1 / 1;
  border-radius: 12px;
}

/* detail: 도감 상세 이미지용 */
.skeleton-detail {
  aspect-ratio: 1 / 1;
  border-radius: 16px;
}

/* watercolor: 일기 수채화 배경용 */
.skeleton-watercolor {
  width: 100%;
  height: 100%;
  border-radius: 0;
  opacity: 0.3;
}

/* watercolor 타입에서는 꽃 실루엣 숨김 */
.skeleton-watercolor .flower-silhouette {
  display: none;
}

/* 이미지 에러 표시 */
.image-error {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #F4E4C1 0%, #E8CD8E 100%);
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  z-index: 10;
}

.error-icon {
  font-size: 32px;
  margin-bottom: 8px;
  opacity: 0.5;
}

.error-text {
  font-size: 12px;
  color: #8B6F47;
  opacity: 0.7;
}

/* ============================================
   리포트 캡처용 컨테이너 (화면 밖에 배치)
============================================ */
.report-capture-container {
  position: fixed;
  top: -100000px;
  left: 0;
  z-index: -9999;
  pointer-events: none;
}

/* ============================================
   360px 이하 초소형 화면 대응 (Galaxy Fold, 작은 iPhone 등)
============================================ */
@media (max-width: 360px) {
  /* 페이지 타이틀 */
  .page-title {
    font-size: 26px;
    letter-spacing: 1px;
  }

  /* 서비스 타이틀 (랜딩) */
  .service-title {
    font-size: 32px;
  }

  /* 랜딩 컨텐츠 패딩 */
  .landing-content {
    padding: 30px 15px;
  }

  /* 모달 너비 및 패딩 조정 */
  .modal-content,
  .flip-card-container {
    max-width: 95%;
    padding: 10px 20px 20px 35px;
  }

  /* 꽃 카탈로그 이미지 */
  .flower-catalog-image {
    max-width: 280px;
  }

  /* 날짜 선택 모달 */
  .date-picker-content {
    max-width: 95%;
  }

  /* 편지함 모달 */
  .letterbox-content,
  .letterbox-modal-content {
    max-width: 95%;
    padding: 25px 20px;
  }

  /* About 모달 */
  .about-modal-content {
    padding: 25px 20px;
  }

  /* 알림 모달 */
  .alert-content {
    padding: 30px 20px;
  }

  /* 알림 버튼 */
  .alert-button {
    padding: 12px 30px;
  }

  /* 로딩 모달 */
  .loading-content {
    padding: 35px 25px;
  }

  /* 빈 상태 */
  .empty-state {
    padding: 40px 15px;
  }

  .empty-icon {
    font-size: 60px;
  }

  /* 인사말 아이콘 */
  .greeting-icon {
    font-size: 32px;
  }

  /* 카드 이모지 */
  .card-emoji {
    font-size: 30px;
  }

  /* 미분석 아이콘 */
  .unanalyzed-icon {
    font-size: 48px;
  }

  /* 메시지 아이콘 */
  .message-icon {
    font-size: 30px;
  }

  /* 꽃 영역 아이콘 */
  .area-icon {
    font-size: 28px;
  }

  .quadrant-icon {
    font-size: 26px;
  }

  /* 툴팁 카드 */
  .tooltip-card {
    min-width: 100px;
    padding: 6px 8px;
  }

  /* 영역 툴팁 */
  .area-tooltip {
    min-width: 150px;
  }
}
